(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Il:()=>Jt,c3:()=>Qt,S$:()=>Xt,Commands:()=>Vt,pB:()=>Gt,i8:()=>Tn,WH:()=>Ft,nC:()=>An,QB:()=>mn,Ew:()=>Nn,Tk:()=>Ht,eV:()=>gn,_F:()=>bn,dA:()=>wn,KJ:()=>Kt,jJ:()=>Yt,_E:()=>En,lp:()=>yn});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var u,l,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,s),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var u=0,l=[],c=o.length;u<c;u++)(o[u].fn!==t||i&&!o[u].once||r&&o[u].context!==r)&&l.push(o[u]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(i);var a,s,o=r(i.exports);!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(a||(a={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(s||(s={}));const u=a.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),l=e=>{switch(typeof e){case"undefined":return u.undefined;case"string":return u.string;case"number":return isNaN(e)?u.nan:u.number;case"boolean":return u.boolean;case"function":return u.function;case"bigint":return u.bigint;case"symbol":return u.symbol;case"object":return Array.isArray(e)?u.array:null===e?u.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?u.promise:"undefined"!=typeof Map&&e instanceof Map?u.map:"undefined"!=typeof Set&&e instanceof Set?u.set:"undefined"!=typeof Date&&e instanceof Date?u.date:u.object;default:return u.unknown}},c=a.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class d extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,a.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}d.create=e=>new d(e);const p=(e,t)=>{let n;switch(e.code){case c.invalid_type:n=e.received===u.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case c.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,a.jsonStringifyReplacer)}`;break;case c.unrecognized_keys:n=`Unrecognized key(s) in object: ${a.joinValues(e.keys,", ")}`;break;case c.invalid_union:n="Invalid input";break;case c.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${a.joinValues(e.options)}`;break;case c.invalid_enum_value:n=`Invalid enum value. Expected ${a.joinValues(e.options)}, received '${e.received}'`;break;case c.invalid_arguments:n="Invalid function arguments";break;case c.invalid_return_type:n="Invalid function return type";break;case c.invalid_date:n="Invalid date";break;case c.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:a.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case c.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case c.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case c.custom:n="Invalid input";break;case c.invalid_intersection_types:n="Intersection results could not be merged";break;case c.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case c.not_finite:n="Number must be finite";break;default:n=t.defaultError,a.assertNever(e)}return{message:n}};let f=p;function h(){return f}const _=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};let o="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u)o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:i.message||o}};function m(e,t){const n=_({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,h(),p].filter((e=>!!e))});e.common.issues.push(n)}class v{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return g;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return v.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return g;if("aborted"===i.status)return g;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const g=Object.freeze({status:"aborted"}),y=e=>({status:"dirty",value:e}),E=e=>({status:"valid",value:e}),b=e=>"aborted"===e.status,T=e=>"dirty"===e.status,w=e=>"valid"===e.status,N=e=>"undefined"!=typeof Promise&&e instanceof Promise;var A;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(A||(A={}));class S{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const I=(e,t)=>{if(w(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new d(e.common.issues);return this._error=t,this._error}}};function O(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class C{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return l(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new v,ctx:{common:e.parent.common,data:e.data,parsedType:l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(N(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:l(e)},i=this._parseSync({data:e,path:r.path,parent:r});return I(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:l(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(N(r)?r:Promise.resolve(r));return I(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:c.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new me({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ve.create(this,this._def)}nullable(){return ge.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return W.create(this,this._def)}promise(){return _e.create(this,this._def)}or(e){return ee.create([this,e],this._def)}and(e){return ie.create(this,e,this._def)}transform(e){return new me({...O(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ye({...O(this._def),innerType:this,defaultValue:t,typeName:Oe.ZodDefault})}brand(){return new we({typeName:Oe.ZodBranded,type:this,...O(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Ee({...O(this._def),innerType:this,catchValue:t,typeName:Oe.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ne.create(this,e)}readonly(){return Ae.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const D=/^c[^\s-]{8,}$/i,k=/^[a-z][a-z0-9]*$/,x=/^[0-9A-HJKMNP-TV-Z]{26}$/,R=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let P;const M=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,U=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class Z extends C{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==u.string){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.string,received:t.parsedType}),g}const t=new v;let n;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:c.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:c.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const r=e.data.length>o.value,i=e.data.length<o.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?m(n,{code:c.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&m(n,{code:c.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)L.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"email",code:c.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)P||(P=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),P.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"emoji",code:c.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)R.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"uuid",code:c.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)D.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"cuid",code:c.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)k.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"cuid2",code:c.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)x.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"ulid",code:c.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),m(n,{validation:"url",code:c.invalid_string,message:o.message}),t.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"regex",code:c.invalid_string,message:o.message}),t.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),m(n,{code:c.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),m(n,{code:c.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),m(n,{code:c.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty()):"datetime"===o.kind?((s=o).precision?s.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}Z$`):0===s.precision?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:c.invalid_string,validation:"datetime",message:o.message}),t.dirty()):"ip"===o.kind?(r=e.data,("v4"!==(i=o.version)&&i||!M.test(r))&&("v6"!==i&&i||!U.test(r))&&(n=this._getOrReturnCtx(e,n),m(n,{validation:"ip",code:c.invalid_string,message:o.message}),t.dirty())):a.assertNever(o);var r,i,s;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:c.invalid_string,...A.errToObj(n)})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...A.errToObj(e)})}url(e){return this._addCheck({kind:"url",...A.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...A.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...A.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...A.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...A.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...A.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...A.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...A.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...A.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...A.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...A.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...A.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...A.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...A.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...A.errToObj(t)})}nonempty(e){return this.min(1,A.errToObj(e))}trim(){return new Z({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function j(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}Z.create=e=>{var t;return new Z({checks:[],typeName:Oe.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class B extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==u.number){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.number,received:t.parsedType}),g}let t;const n=new v;for(const r of this._def.checks)"int"===r.kind?a.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),m(t,{code:c.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:c.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:c.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==j(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:c.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),m(t,{code:c.not_finite,message:r.message}),n.dirty()):a.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,A.toString(t))}gt(e,t){return this.setLimit("min",e,!1,A.toString(t))}lte(e,t){return this.setLimit("max",e,!0,A.toString(t))}lt(e,t){return this.setLimit("max",e,!1,A.toString(t))}setLimit(e,t,n,r){return new B({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:A.toString(r)}]})}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:A.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:A.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:A.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:A.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:A.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&a.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}B.create=e=>new B({checks:[],typeName:Oe.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class G extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==u.bigint){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.bigint,received:t.parsedType}),g}let t;const n=new v;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:c.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:c.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),m(t,{code:c.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):a.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,A.toString(t))}gt(e,t){return this.setLimit("min",e,!1,A.toString(t))}lte(e,t){return this.setLimit("max",e,!0,A.toString(t))}lt(e,t){return this.setLimit("max",e,!1,A.toString(t))}setLimit(e,t,n,r){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:A.toString(r)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:A.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}G.create=e=>{var t;return new G({checks:[],typeName:Oe.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class V extends C{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==u.boolean){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.boolean,received:t.parsedType}),g}return E(e.data)}}V.create=e=>new V({typeName:Oe.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class H extends C{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==u.date){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.date,received:t.parsedType}),g}if(isNaN(e.data.getTime()))return m(this._getOrReturnCtx(e),{code:c.invalid_date}),g;const t=new v;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:c.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:c.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):a.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new H({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:A.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:A.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}H.create=e=>new H({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Oe.ZodDate,...O(e)});class K extends C{_parse(e){if(this._getType(e)!==u.symbol){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.symbol,received:t.parsedType}),g}return E(e.data)}}K.create=e=>new K({typeName:Oe.ZodSymbol,...O(e)});class F extends C{_parse(e){if(this._getType(e)!==u.undefined){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.undefined,received:t.parsedType}),g}return E(e.data)}}F.create=e=>new F({typeName:Oe.ZodUndefined,...O(e)});class q extends C{_parse(e){if(this._getType(e)!==u.null){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.null,received:t.parsedType}),g}return E(e.data)}}q.create=e=>new q({typeName:Oe.ZodNull,...O(e)});class $ extends C{constructor(){super(...arguments),this._any=!0}_parse(e){return E(e.data)}}$.create=e=>new $({typeName:Oe.ZodAny,...O(e)});class Y extends C{constructor(){super(...arguments),this._unknown=!0}_parse(e){return E(e.data)}}Y.create=e=>new Y({typeName:Oe.ZodUnknown,...O(e)});class z extends C{_parse(e){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.never,received:t.parsedType}),g}}z.create=e=>new z({typeName:Oe.ZodNever,...O(e)});class J extends C{_parse(e){if(this._getType(e)!==u.undefined){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.void,received:t.parsedType}),g}return E(e.data)}}J.create=e=>new J({typeName:Oe.ZodVoid,...O(e)});class W extends C{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==u.array)return m(t,{code:c.invalid_type,expected:u.array,received:t.parsedType}),g;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(m(t,{code:e?c.too_big:c.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(m(t,{code:c.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(m(t,{code:c.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new S(t,e,t.path,n))))).then((e=>v.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new S(t,e,t.path,n))));return v.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new W({...this._def,minLength:{value:e,message:A.toString(t)}})}max(e,t){return new W({...this._def,maxLength:{value:e,message:A.toString(t)}})}length(e,t){return new W({...this._def,exactLength:{value:e,message:A.toString(t)}})}nonempty(e){return this.min(1,e)}}function X(e){if(e instanceof Q){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ve.create(X(r))}return new Q({...e._def,shape:()=>t})}return e instanceof W?new W({...e._def,type:X(e.element)}):e instanceof ve?ve.create(X(e.unwrap())):e instanceof ge?ge.create(X(e.unwrap())):e instanceof ae?ae.create(e.items.map((e=>X(e)))):e}W.create=(e,t)=>new W({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...O(t)});class Q extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=a.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==u.object){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.object,received:t.parsedType}),g}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof z&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||a.push(e);const s=[];for(const e of i){const t=r[e],i=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new S(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof z){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(m(n,{code:c.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new S(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>v.mergeObjectSync(t,e))):v.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return A.errToObj,new Q({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,s;const o=null!==(a=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=A.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new Q({...this._def,unknownKeys:"strip"})}passthrough(){return new Q({...this._def,unknownKeys:"passthrough"})}extend(e){return new Q({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Q({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Q({...this._def,catchall:e})}pick(e){const t={};return a.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Q({...this._def,shape:()=>t})}omit(e){const t={};return a.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Q({...this._def,shape:()=>t})}deepPartial(){return X(this)}partial(e){const t={};return a.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Q({...this._def,shape:()=>t})}required(e){const t={};return a.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ve;)e=e._def.innerType;t[n]=e}})),new Q({...this._def,shape:()=>t})}keyof(){return pe(a.objectKeys(this.shape))}}Q.create=(e,t)=>new Q({shape:()=>e,unknownKeys:"strip",catchall:z.create(),typeName:Oe.ZodObject,...O(t)}),Q.strictCreate=(e,t)=>new Q({shape:()=>e,unknownKeys:"strict",catchall:z.create(),typeName:Oe.ZodObject,...O(t)}),Q.lazycreate=(e,t)=>new Q({shape:e,unknownKeys:"strip",catchall:z.create(),typeName:Oe.ZodObject,...O(t)});class ee extends C{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new d(e.ctx.common.issues)));return m(t,{code:c.invalid_union,unionErrors:n}),g}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new d(e)));return m(t,{code:c.invalid_union,unionErrors:i}),g}}get options(){return this._def.options}}ee.create=(e,t)=>new ee({options:e,typeName:Oe.ZodUnion,...O(t)});const te=e=>e instanceof ce?te(e.schema):e instanceof me?te(e.innerType()):e instanceof de?[e.value]:e instanceof fe?e.options:e instanceof he?Object.keys(e.enum):e instanceof ye?te(e._def.innerType):e instanceof F?[void 0]:e instanceof q?[null]:null;class ne extends C{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.object)return m(t,{code:c.invalid_type,expected:u.object,received:t.parsedType}),g;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(m(t,{code:c.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),g)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=te(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new ne({typeName:Oe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...O(n)})}}function re(e,t){const n=l(e),r=l(t);if(e===t)return{valid:!0,data:e};if(n===u.object&&r===u.object){const n=a.objectKeys(t),r=a.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const n of r){const r=re(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===u.array&&r===u.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=re(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===u.date&&r===u.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ie extends C{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(b(e)||b(r))return g;const i=re(e.value,r.value);return i.valid?((T(e)||T(r))&&t.dirty(),{status:t.value,value:i.data}):(m(n,{code:c.invalid_intersection_types}),g)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ie.create=(e,t,n)=>new ie({left:e,right:t,typeName:Oe.ZodIntersection,...O(n)});class ae extends C{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==u.array)return m(n,{code:c.invalid_type,expected:u.array,received:n.parsedType}),g;if(n.data.length<this._def.items.length)return m(n,{code:c.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g;!this._def.rest&&n.data.length>this._def.items.length&&(m(n,{code:c.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new S(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>v.mergeArray(t,e))):v.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ae({...this._def,rest:e})}}ae.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ae({items:e,typeName:Oe.ZodTuple,rest:null,...O(t)})};class se extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==u.object)return m(n,{code:c.invalid_type,expected:u.object,received:n.parsedType}),g;const r=[],i=this._def.keyType,a=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new S(n,e,n.path,e)),value:a._parse(new S(n,n.data[e],n.path,e))});return n.common.async?v.mergeObjectAsync(t,r):v.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new se(t instanceof C?{keyType:e,valueType:t,typeName:Oe.ZodRecord,...O(n)}:{keyType:Z.create(),valueType:e,typeName:Oe.ZodRecord,...O(t)})}}class oe extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==u.map)return m(n,{code:c.invalid_type,expected:u.map,received:n.parsedType}),g;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((([e,t],a)=>({key:r._parse(new S(n,e,n.path,[a,"key"])),value:i._parse(new S(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return g;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return g;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}oe.create=(e,t,n)=>new oe({valueType:t,keyType:e,typeName:Oe.ZodMap,...O(n)});class ue extends C{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==u.set)return m(n,{code:c.invalid_type,expected:u.set,received:n.parsedType}),g;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(m(n,{code:c.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(m(n,{code:c.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return g;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>i._parse(new S(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>a(e))):a(s)}min(e,t){return new ue({...this._def,minSize:{value:e,message:A.toString(t)}})}max(e,t){return new ue({...this._def,maxSize:{value:e,message:A.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ue.create=(e,t)=>new ue({valueType:e,minSize:null,maxSize:null,typeName:Oe.ZodSet,...O(t)});class le extends C{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.function)return m(t,{code:c.invalid_type,expected:u.function,received:t.parsedType}),g;function n(e,n){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),p].filter((e=>!!e)),issueData:{code:c.invalid_arguments,argumentsError:n}})}function r(e,n){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),p].filter((e=>!!e)),issueData:{code:c.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof _e){const e=this;return E((async function(...t){const s=new d([]),o=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(n(t,e)),s})),u=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch((e=>{throw s.addIssue(r(u,e)),s}))}))}{const e=this;return E((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new d([n(t,s.error)]);const o=Reflect.apply(a,this,s.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new d([r(o,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new le({...this._def,args:ae.create(e).rest(Y.create())})}returns(e){return new le({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new le({args:e||ae.create([]).rest(Y.create()),returns:t||Y.create(),typeName:Oe.ZodFunction,...O(n)})}}class ce extends C{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ce.create=(e,t)=>new ce({getter:e,typeName:Oe.ZodLazy,...O(t)});class de extends C{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return m(t,{received:t.data,code:c.invalid_literal,expected:this._def.value}),g}return{status:"valid",value:e.data}}get value(){return this._def.value}}function pe(e,t){return new fe({values:e,typeName:Oe.ZodEnum,...O(t)})}de.create=(e,t)=>new de({value:e,typeName:Oe.ZodLiteral,...O(t)});class fe extends C{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return m(t,{expected:a.joinValues(n),received:t.parsedType,code:c.invalid_type}),g}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return m(t,{received:t.data,code:c.invalid_enum_value,options:n}),g}return E(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return fe.create(e)}exclude(e){return fe.create(this.options.filter((t=>!e.includes(t))))}}fe.create=pe;class he extends C{_parse(e){const t=a.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==u.string&&n.parsedType!==u.number){const e=a.objectValues(t);return m(n,{expected:a.joinValues(e),received:n.parsedType,code:c.invalid_type}),g}if(-1===t.indexOf(e.data)){const e=a.objectValues(t);return m(n,{received:n.data,code:c.invalid_enum_value,options:e}),g}return E(e.data)}get enum(){return this._def.values}}he.create=(e,t)=>new he({values:e,typeName:Oe.ZodNativeEnum,...O(t)});class _e extends C{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.promise&&!1===t.common.async)return m(t,{code:c.invalid_type,expected:u.promise,received:t.parsedType}),g;const n=t.parsedType===u.promise?t.data:Promise.resolve(t.data);return E(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}_e.create=(e,t)=>new _e({type:e,typeName:Oe.ZodPromise,...O(t)});class me extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{m(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?g:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?g:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!w(e))return e;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>w(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}a.assertNever(r)}}me.create=(e,t,n)=>new me({schema:e,typeName:Oe.ZodEffects,effect:t,...O(n)}),me.createWithPreprocess=(e,t,n)=>new me({schema:t,effect:{type:"preprocess",transform:e},typeName:Oe.ZodEffects,...O(n)});class ve extends C{_parse(e){return this._getType(e)===u.undefined?E(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ve.create=(e,t)=>new ve({innerType:e,typeName:Oe.ZodOptional,...O(t)});class ge extends C{_parse(e){return this._getType(e)===u.null?E(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ge.create=(e,t)=>new ge({innerType:e,typeName:Oe.ZodNullable,...O(t)});class ye extends C{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===u.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ye.create=(e,t)=>new ye({innerType:e,typeName:Oe.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...O(t)});class Ee extends C{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return N(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new d(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new d(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ee.create=(e,t)=>new Ee({innerType:e,typeName:Oe.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...O(t)});class be extends C{_parse(e){if(this._getType(e)!==u.nan){const t=this._getOrReturnCtx(e);return m(t,{code:c.invalid_type,expected:u.nan,received:t.parsedType}),g}return{status:"valid",value:e.data}}}be.create=e=>new be({typeName:Oe.ZodNaN,...O(e)});const Te=Symbol("zod_brand");class we extends C{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ne extends C{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),y(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Ne({in:e,out:t,typeName:Oe.ZodPipeline})}}class Ae extends C{_parse(e){const t=this._def.innerType._parse(e);return w(t)&&(t.value=Object.freeze(t.value)),t}}Ae.create=(e,t)=>new Ae({innerType:e,typeName:Oe.ZodReadonly,...O(t)});const Se=(e,t={},n)=>e?$.create().superRefine(((r,i)=>{var a,s;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===s||s,u="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...u,fatal:o})}})):$.create(),Ie={object:Q.lazycreate};var Oe;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Oe||(Oe={}));const Ce=Z.create,De=B.create,ke=be.create,xe=G.create,Re=V.create,Le=H.create,Pe=K.create,Me=F.create,Ue=q.create,Ze=$.create,je=Y.create,Be=z.create,Ge=J.create,Ve=W.create,He=Q.create,Ke=Q.strictCreate,Fe=ee.create,qe=ne.create,$e=ie.create,Ye=ae.create,ze=se.create,Je=oe.create,We=ue.create,Xe=le.create,Qe=ce.create,et=de.create,tt=fe.create,nt=he.create,rt=_e.create,it=me.create,at=ve.create,st=ge.create,ot=me.createWithPreprocess,ut=Ne.create,lt={string:e=>Z.create({...e,coerce:!0}),number:e=>B.create({...e,coerce:!0}),boolean:e=>V.create({...e,coerce:!0}),bigint:e=>G.create({...e,coerce:!0}),date:e=>H.create({...e,coerce:!0})},ct=g;var dt=Object.freeze({__proto__:null,defaultErrorMap:p,setErrorMap:function(e){f=e},getErrorMap:h,makeIssue:_,EMPTY_PATH:[],addIssueToContext:m,ParseStatus:v,INVALID:g,DIRTY:y,OK:E,isAborted:b,isDirty:T,isValid:w,isAsync:N,get util(){return a},get objectUtil(){return s},ZodParsedType:u,getParsedType:l,ZodType:C,ZodString:Z,ZodNumber:B,ZodBigInt:G,ZodBoolean:V,ZodDate:H,ZodSymbol:K,ZodUndefined:F,ZodNull:q,ZodAny:$,ZodUnknown:Y,ZodNever:z,ZodVoid:J,ZodArray:W,ZodObject:Q,ZodUnion:ee,ZodDiscriminatedUnion:ne,ZodIntersection:ie,ZodTuple:ae,ZodRecord:se,ZodMap:oe,ZodSet:ue,ZodFunction:le,ZodLazy:ce,ZodLiteral:de,ZodEnum:fe,ZodNativeEnum:he,ZodPromise:_e,ZodEffects:me,ZodTransformer:me,ZodOptional:ve,ZodNullable:ge,ZodDefault:ye,ZodCatch:Ee,ZodNaN:be,BRAND:Te,ZodBranded:we,ZodPipeline:Ne,ZodReadonly:Ae,custom:Se,Schema:C,ZodSchema:C,late:Ie,get ZodFirstPartyTypeKind(){return Oe},coerce:lt,any:Ze,array:Ve,bigint:xe,boolean:Re,date:Le,discriminatedUnion:qe,effect:it,enum:tt,function:Xe,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Se((t=>t instanceof e),t),intersection:$e,lazy:Qe,literal:et,map:Je,nan:ke,nativeEnum:nt,never:Be,null:Ue,nullable:st,number:De,object:He,oboolean:()=>Re().optional(),onumber:()=>De().optional(),optional:at,ostring:()=>Ce().optional(),pipeline:ut,preprocess:ot,promise:rt,record:ze,set:We,strictObject:Ke,string:Ce,symbol:Pe,transformer:it,tuple:Ye,undefined:Me,union:Fe,unknown:je,void:Ge,NEVER:ct,ZodIssueCode:c,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:d}),pt={exports:{}};!function(e){var t=function(e){var n=1e7,r=7,i=9007199254740992,a=f(i),s="0123456789abcdefghijklmnopqrstuvwxyz",o="function"==typeof BigInt;function u(e,t,n,r){return void 0===e?u[0]:void 0===t||10==+t&&!n?W(e):q(e,t,n,r)}function l(e,t){this.value=e,this.sign=t,this.isSmall=!1}function c(e){this.value=e,this.sign=e<0,this.isSmall=!0}function d(e){this.value=e}function p(e){return-i<e&&e<i}function f(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function h(e){_(e);var t=e.length;if(t<4&&k(e,a)<0)switch(t){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*n;default:return e[0]+(e[1]+e[2]*n)*n}return e}function _(e){for(var t=e.length;0===e[--t];);e.length=t+1}function m(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function v(e){return e>0?Math.floor(e):Math.ceil(e)}function g(e,t){var r,i,a=e.length,s=t.length,o=new Array(a),u=0,l=n;for(i=0;i<s;i++)u=(r=e[i]+t[i]+u)>=l?1:0,o[i]=r-u*l;for(;i<a;)u=(r=e[i]+u)===l?1:0,o[i++]=r-u*l;return u>0&&o.push(u),o}function y(e,t){return e.length>=t.length?g(e,t):g(t,e)}function E(e,t){var r,i,a=e.length,s=new Array(a),o=n;for(i=0;i<a;i++)r=e[i]-o+t,t=Math.floor(r/o),s[i]=r-t*o,t+=1;for(;t>0;)s[i++]=t%o,t=Math.floor(t/o);return s}function b(e,t){var r,i,a=e.length,s=t.length,o=new Array(a),u=0,l=n;for(r=0;r<s;r++)(i=e[r]-u-t[r])<0?(i+=l,u=1):u=0,o[r]=i;for(r=s;r<a;r++){if(!((i=e[r]-u)<0)){o[r++]=i;break}i+=l,o[r]=i}for(;r<a;r++)o[r]=e[r];return _(o),o}function T(e,t,r){var i,a,s=e.length,o=new Array(s),u=-t,d=n;for(i=0;i<s;i++)a=e[i]+u,u=Math.floor(a/d),a%=d,o[i]=a<0?a+d:a;return"number"==typeof(o=h(o))?(r&&(o=-o),new c(o)):new l(o,r)}function w(e,t){var r,i,a,s,o=e.length,u=t.length,l=m(o+u),c=n;for(a=0;a<o;++a){s=e[a];for(var d=0;d<u;++d)r=s*t[d]+l[a+d],i=Math.floor(r/c),l[a+d]=r-i*c,l[a+d+1]+=i}return _(l),l}function N(e,t){var r,i,a=e.length,s=new Array(a),o=n,u=0;for(i=0;i<a;i++)r=e[i]*t+u,u=Math.floor(r/o),s[i]=r-u*o;for(;u>0;)s[i++]=u%o,u=Math.floor(u/o);return s}function A(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function S(e,t){var n=Math.max(e.length,t.length);if(n<=30)return w(e,t);n=Math.ceil(n/2);var r=e.slice(n),i=e.slice(0,n),a=t.slice(n),s=t.slice(0,n),o=S(i,s),u=S(r,a),l=S(y(i,r),y(s,a)),c=y(y(o,A(b(b(l,o),u),n)),A(u,2*n));return _(c),c}function I(e,t,r){return new l(e<n?N(t,e):w(t,f(e)),r)}function O(e){var t,r,i,a,s=e.length,o=m(s+s),u=n;for(i=0;i<s;i++){r=0-(a=e[i])*a;for(var l=i;l<s;l++)t=a*e[l]*2+o[i+l]+r,r=Math.floor(t/u),o[i+l]=t-r*u;o[i+s]=r}return _(o),o}function C(e,t){var r,i,a,s,o=e.length,u=m(o),l=n;for(a=0,r=o-1;r>=0;--r)a=(s=a*l+e[r])-(i=v(s/t))*t,u[r]=0|i;return[u,0|a]}function D(e,t){var r,i=W(t);if(o)return[new d(e.value/i.value),new d(e.value%i.value)];var a,s=e.value,p=i.value;if(0===p)throw new Error("Cannot divide by zero");if(e.isSmall)return i.isSmall?[new c(v(s/p)),new c(s%p)]:[u[0],e];if(i.isSmall){if(1===p)return[e,u[0]];if(-1==p)return[e.negate(),u[0]];var g=Math.abs(p);if(g<n){a=h((r=C(s,g))[0]);var y=r[1];return e.sign&&(y=-y),"number"==typeof a?(e.sign!==i.sign&&(a=-a),[new c(a),new c(y)]):[new l(a,e.sign!==i.sign),new c(y)]}p=f(g)}var E=k(s,p);if(-1===E)return[u[0],e];if(0===E)return[u[e.sign===i.sign?1:-1],u[0]];r=s.length+p.length<=200?function(e,t){var r,i,a,s,o,u,l,c=e.length,d=t.length,p=n,f=m(t.length),_=t[d-1],v=Math.ceil(p/(2*_)),g=N(e,v),y=N(t,v);for(g.length<=c&&g.push(0),y.push(0),_=y[d-1],i=c-d;i>=0;i--){for(r=p-1,g[i+d]!==_&&(r=Math.floor((g[i+d]*p+g[i+d-1])/_)),a=0,s=0,u=y.length,o=0;o<u;o++)a+=r*y[o],l=Math.floor(a/p),s+=g[i+o]-(a-l*p),a=l,s<0?(g[i+o]=s+p,s=-1):(g[i+o]=s,s=0);for(;0!==s;){for(r-=1,a=0,o=0;o<u;o++)(a+=g[i+o]-p+y[o])<0?(g[i+o]=a+p,a=0):(g[i+o]=a,a=1);s+=a}f[i]=r}return g=C(g,v)[0],[h(f),h(g)]}(s,p):function(e,t){for(var r,i,a,s,o,u=e.length,l=t.length,c=[],d=[],p=n;u;)if(d.unshift(e[--u]),_(d),k(d,t)<0)c.push(0);else{a=d[(i=d.length)-1]*p+d[i-2],s=t[l-1]*p+t[l-2],i>l&&(a=(a+1)*p),r=Math.ceil(a/s);do{if(k(o=N(t,r),d)<=0)break;r--}while(r);c.push(r),d=b(d,o)}return c.reverse(),[h(c),h(d)]}(s,p),a=r[0];var T=e.sign!==i.sign,w=r[1],A=e.sign;return"number"==typeof a?(T&&(a=-a),a=new c(a)):a=new l(a,T),"number"==typeof w?(A&&(w=-w),w=new c(w)):w=new l(w,A),[a,w]}function k(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function x(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function R(e,n){for(var r,i,a,s=e.prev(),o=s,u=0;o.isEven();)o=o.divide(2),u++;e:for(i=0;i<n.length;i++)if(!e.lesser(n[i])&&!(a=t(n[i]).modPow(o,e)).isUnit()&&!a.equals(s)){for(r=u-1;0!=r;r--){if((a=a.square().mod(e)).isUnit())return!1;if(a.equals(s))continue e}return!1}return!0}l.prototype=Object.create(u.prototype),c.prototype=Object.create(u.prototype),d.prototype=Object.create(u.prototype),l.prototype.add=function(e){var t=W(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,r=t.value;return t.isSmall?new l(E(n,Math.abs(r)),this.sign):new l(y(n,r),this.sign)},l.prototype.plus=l.prototype.add,c.prototype.add=function(e){var t=W(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var r=t.value;if(t.isSmall){if(p(n+r))return new c(n+r);r=f(Math.abs(r))}return new l(E(r,Math.abs(n)),n<0)},c.prototype.plus=c.prototype.add,d.prototype.add=function(e){return new d(this.value+W(e).value)},d.prototype.plus=d.prototype.add,l.prototype.subtract=function(e){var t=W(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,r=t.value;return t.isSmall?T(n,Math.abs(r),this.sign):function(e,t,n){var r;return k(e,t)>=0?r=b(e,t):(r=b(t,e),n=!n),"number"==typeof(r=h(r))?(n&&(r=-r),new c(r)):new l(r,n)}(n,r,this.sign)},l.prototype.minus=l.prototype.subtract,c.prototype.subtract=function(e){var t=W(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var r=t.value;return t.isSmall?new c(n-r):T(r,Math.abs(n),n>=0)},c.prototype.minus=c.prototype.subtract,d.prototype.subtract=function(e){return new d(this.value-W(e).value)},d.prototype.minus=d.prototype.subtract,l.prototype.negate=function(){return new l(this.value,!this.sign)},c.prototype.negate=function(){var e=this.sign,t=new c(-this.value);return t.sign=!e,t},d.prototype.negate=function(){return new d(-this.value)},l.prototype.abs=function(){return new l(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},d.prototype.abs=function(){return new d(this.value>=0?this.value:-this.value)},l.prototype.multiply=function(e){var t,r,i,a=W(e),s=this.value,o=a.value,c=this.sign!==a.sign;if(a.isSmall){if(0===o)return u[0];if(1===o)return this;if(-1===o)return this.negate();if((t=Math.abs(o))<n)return new l(N(s,t),c);o=f(t)}return new l(-.012*(r=s.length)-.012*(i=o.length)+15e-6*r*i>0?S(s,o):w(s,o),c)},l.prototype.times=l.prototype.multiply,c.prototype._multiplyBySmall=function(e){return p(e.value*this.value)?new c(e.value*this.value):I(Math.abs(e.value),f(Math.abs(this.value)),this.sign!==e.sign)},l.prototype._multiplyBySmall=function(e){return 0===e.value?u[0]:1===e.value?this:-1===e.value?this.negate():I(Math.abs(e.value),this.value,this.sign!==e.sign)},c.prototype.multiply=function(e){return W(e)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,d.prototype.multiply=function(e){return new d(this.value*W(e).value)},d.prototype.times=d.prototype.multiply,l.prototype.square=function(){return new l(O(this.value),!1)},c.prototype.square=function(){var e=this.value*this.value;return p(e)?new c(e):new l(O(f(Math.abs(this.value))),!1)},d.prototype.square=function(e){return new d(this.value*this.value)},l.prototype.divmod=function(e){var t=D(this,e);return{quotient:t[0],remainder:t[1]}},d.prototype.divmod=c.prototype.divmod=l.prototype.divmod,l.prototype.divide=function(e){return D(this,e)[0]},d.prototype.over=d.prototype.divide=function(e){return new d(this.value/W(e).value)},c.prototype.over=c.prototype.divide=l.prototype.over=l.prototype.divide,l.prototype.mod=function(e){return D(this,e)[1]},d.prototype.mod=d.prototype.remainder=function(e){return new d(this.value%W(e).value)},c.prototype.remainder=c.prototype.mod=l.prototype.remainder=l.prototype.mod,l.prototype.pow=function(e){var t,n,r,i=W(e),a=this.value,s=i.value;if(0===s)return u[1];if(0===a)return u[0];if(1===a)return u[1];if(-1===a)return i.isEven()?u[1]:u[-1];if(i.sign)return u[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&p(t=Math.pow(a,s)))return new c(v(t));for(n=this,r=u[1];!0&s&&(r=r.times(n),--s),0!==s;)s/=2,n=n.square();return r},c.prototype.pow=l.prototype.pow,d.prototype.pow=function(e){var t=W(e),n=this.value,r=t.value,i=BigInt(0),a=BigInt(1),s=BigInt(2);if(r===i)return u[1];if(n===i)return u[0];if(n===a)return u[1];if(n===BigInt(-1))return t.isEven()?u[1]:u[-1];if(t.isNegative())return new d(i);for(var o=this,l=u[1];(r&a)===a&&(l=l.times(o),--r),r!==i;)r/=s,o=o.square();return l},l.prototype.modPow=function(e,t){if(e=W(e),(t=W(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=u[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(u[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return u[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},d.prototype.modPow=c.prototype.modPow=l.prototype.modPow,l.prototype.compareAbs=function(e){var t=W(e),n=this.value,r=t.value;return t.isSmall?1:k(n,r)},c.prototype.compareAbs=function(e){var t=W(e),n=Math.abs(this.value),r=t.value;return t.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},d.prototype.compareAbs=function(e){var t=this.value,n=W(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=W(e),n=this.value,r=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:k(n,r)*(this.sign?-1:1)},l.prototype.compareTo=l.prototype.compare,c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=W(e),n=this.value,r=t.value;return t.isSmall?n==r?0:n>r?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},c.prototype.compareTo=c.prototype.compare,d.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=W(e).value;return t===n?0:t>n?1:-1},d.prototype.compareTo=d.prototype.compare,l.prototype.equals=function(e){return 0===this.compare(e)},d.prototype.eq=d.prototype.equals=c.prototype.eq=c.prototype.equals=l.prototype.eq=l.prototype.equals,l.prototype.notEquals=function(e){return 0!==this.compare(e)},d.prototype.neq=d.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=l.prototype.neq=l.prototype.notEquals,l.prototype.greater=function(e){return this.compare(e)>0},d.prototype.gt=d.prototype.greater=c.prototype.gt=c.prototype.greater=l.prototype.gt=l.prototype.greater,l.prototype.lesser=function(e){return this.compare(e)<0},d.prototype.lt=d.prototype.lesser=c.prototype.lt=c.prototype.lesser=l.prototype.lt=l.prototype.lesser,l.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},d.prototype.geq=d.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=l.prototype.geq=l.prototype.greaterOrEquals,l.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},d.prototype.leq=d.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=l.prototype.leq=l.prototype.lesserOrEquals,l.prototype.isEven=function(){return!(1&this.value[0])},c.prototype.isEven=function(){return!(1&this.value)},d.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},l.prototype.isOdd=function(){return!(1&~this.value[0])},c.prototype.isOdd=function(){return!(1&~this.value)},d.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},l.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},d.prototype.isPositive=c.prototype.isPositive,l.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},d.prototype.isNegative=c.prototype.isNegative,l.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},d.prototype.isUnit=function(){return this.abs().value===BigInt(1)},l.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},d.prototype.isZero=function(){return this.value===BigInt(0)},l.prototype.isDivisibleBy=function(e){var t=W(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},d.prototype.isDivisibleBy=c.prototype.isDivisibleBy=l.prototype.isDivisibleBy,l.prototype.isPrime=function(n){var r=x(this);if(r!==e)return r;var i=this.abs(),a=i.bitLength();if(a<=64)return R(i,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var s=Math.log(2)*a.toJSNumber(),o=Math.ceil(!0===n?2*Math.pow(s,2):s),u=[],l=0;l<o;l++)u.push(t(l+2));return R(i,u)},d.prototype.isPrime=c.prototype.isPrime=l.prototype.isPrime,l.prototype.isProbablePrime=function(n,r){var i=x(this);if(i!==e)return i;for(var a=this.abs(),s=n===e?5:n,o=[],u=0;u<s;u++)o.push(t.randBetween(2,a.minus(2),r));return R(a,o)},d.prototype.isProbablePrime=c.prototype.isProbablePrime=l.prototype.isProbablePrime,l.prototype.modInv=function(e){for(var n,r,i,a=t.zero,s=t.one,o=W(e),u=this.abs();!u.isZero();)n=o.divide(u),r=a,i=o,a=s,o=u,s=r.subtract(n.multiply(s)),u=i.subtract(n.multiply(u));if(!o.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===a.compare(0)&&(a=a.add(e)),this.isNegative()?a.negate():a},d.prototype.modInv=c.prototype.modInv=l.prototype.modInv,l.prototype.next=function(){var e=this.value;return this.sign?T(e,1,this.sign):new l(E(e,1),this.sign)},c.prototype.next=function(){var e=this.value;return e+1<i?new c(e+1):new l(a,!1)},d.prototype.next=function(){return new d(this.value+BigInt(1))},l.prototype.prev=function(){var e=this.value;return this.sign?new l(E(e,1),!0):T(e,1,this.sign)},c.prototype.prev=function(){var e=this.value;return e-1>-i?new c(e-1):new l(a,!0)},d.prototype.prev=function(){return new d(this.value-BigInt(1))};for(var L=[1];2*L[L.length-1]<=n;)L.push(2*L[L.length-1]);var P=L.length,M=L[P-1];function U(e){return Math.abs(e)<=n}function Z(e,n,r){n=W(n);for(var i=e.isNegative(),a=n.isNegative(),s=i?e.not():e,o=a?n.not():n,u=0,l=0,c=null,d=null,p=[];!s.isZero()||!o.isZero();)u=(c=D(s,M))[1].toJSNumber(),i&&(u=M-1-u),l=(d=D(o,M))[1].toJSNumber(),a&&(l=M-1-l),s=c[0],o=d[0],p.push(r(u,l));for(var f=0!==r(i?1:0,a?1:0)?t(-1):t(0),h=p.length-1;h>=0;h-=1)f=f.multiply(M).add(t(p[h]));return f}l.prototype.shiftLeft=function(e){var t=W(e).toJSNumber();if(!U(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=P;)n=n.multiply(M),t-=P-1;return n.multiply(L[t])},d.prototype.shiftLeft=c.prototype.shiftLeft=l.prototype.shiftLeft,l.prototype.shiftRight=function(e){var t,n=W(e).toJSNumber();if(!U(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=P;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=D(r,M))[1].isNegative()?t[0].prev():t[0],n-=P-1}return(t=D(r,L[n]))[1].isNegative()?t[0].prev():t[0]},d.prototype.shiftRight=c.prototype.shiftRight=l.prototype.shiftRight,l.prototype.not=function(){return this.negate().prev()},d.prototype.not=c.prototype.not=l.prototype.not,l.prototype.and=function(e){return Z(this,e,(function(e,t){return e&t}))},d.prototype.and=c.prototype.and=l.prototype.and,l.prototype.or=function(e){return Z(this,e,(function(e,t){return e|t}))},d.prototype.or=c.prototype.or=l.prototype.or,l.prototype.xor=function(e){return Z(this,e,(function(e,t){return e^t}))},d.prototype.xor=c.prototype.xor=l.prototype.xor;var j=1<<30,B=(n&-n)*(n&-n)|j;function G(e){var t=e.value,r="number"==typeof t?t|j:"bigint"==typeof t?t|BigInt(j):t[0]+t[1]*n|B;return r&-r}function V(e,n){if(n.compareTo(e)<=0){var r=V(e,n.square(n)),i=r.p,a=r.e,s=i.multiply(n);return s.compareTo(e)<=0?{p:s,e:2*a+1}:{p:i,e:2*a}}return{p:t(1),e:0}}function H(e,t){return e=W(e),t=W(t),e.greater(t)?e:t}function K(e,t){return e=W(e),t=W(t),e.lesser(t)?e:t}function F(e,t){if(e=W(e).abs(),t=W(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,i=u[1];e.isEven()&&t.isEven();)n=K(G(e),G(t)),e=e.divide(n),t=t.divide(n),i=i.multiply(n);for(;e.isEven();)e=e.divide(G(e));do{for(;t.isEven();)t=t.divide(G(t));e.greater(t)&&(r=t,t=e,e=r),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}l.prototype.bitLength=function(){var e=this;return e.compareTo(t(0))<0&&(e=e.negate().subtract(t(1))),0===e.compareTo(t(0))?t(0):t(V(e,t(2)).e).add(t(1))},d.prototype.bitLength=c.prototype.bitLength=l.prototype.bitLength;var q=function(e,t,n,r){n=n||s,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());var i,a=e.length,o=Math.abs(t),u={};for(i=0;i<n.length;i++)u[n[i]]=i;for(i=0;i<a;i++)if("-"!==(d=e[i])&&d in u&&u[d]>=o){if("1"===d&&1===o)continue;throw new Error(d+" is not a valid digit in base "+t+".")}t=W(t);var l=[],c="-"===e[0];for(i=c?1:0;i<e.length;i++){var d;if((d=e[i])in u)l.push(W(u[d]));else{if("<"!==d)throw new Error(d+" is not a valid character");var p=i;do{i++}while(">"!==e[i]&&i<e.length);l.push(W(e.slice(p+1,i)))}}return $(l,t,c)};function $(e,t,n){var r,i=u[0],a=u[1];for(r=e.length-1;r>=0;r--)i=i.add(e[r].times(a)),a=a.times(t);return n?i.negate():i}function Y(e,n){if((n=t(n)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(n.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var i=!1;if(e.isNegative()&&n.isPositive()&&(i=!0,e=e.abs()),n.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:i};for(var a,s=[],o=e;o.isNegative()||o.compareAbs(n)>=0;){a=o.divmod(n),o=a.quotient;var u=a.remainder;u.isNegative()&&(u=n.minus(u).abs(),o=o.next()),s.push(u.toJSNumber())}return s.push(o.toJSNumber()),{value:s.reverse(),isNegative:i}}function z(e,t,n){var r=Y(e,t);return(r.isNegative?"-":"")+r.value.map((function(e){return function(e,t){return e<(t=t||s).length?t[e]:"<"+e+">"}(e,n)})).join("")}function J(e){if(p(+e)){var t=+e;if(t===v(t))return o?new d(BigInt(t)):new c(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var i=e.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var a=i[1];if("+"===a[0]&&(a=a.slice(1)),(a=+a)!==v(a)||!p(a))throw new Error("Invalid integer: "+a+" is not a valid exponent.");var s=i[0],u=s.indexOf(".");if(u>=0&&(a-=s.length-u-1,s=s.slice(0,u)+s.slice(u+1)),a<0)throw new Error("Cannot include negative exponent part for integers");e=s+=new Array(a+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(o)return new d(BigInt(n?"-"+e:e));for(var f=[],h=e.length,m=r,g=h-m;h>0;)f.push(+e.slice(g,h)),(g-=m)<0&&(g=0),h-=m;return _(f),new l(f,n)}function W(e){return"number"==typeof e?function(e){if(o)return new d(BigInt(e));if(p(e)){if(e!==v(e))throw new Error(e+" is not an integer.");return new c(e)}return J(e.toString())}(e):"string"==typeof e?J(e):"bigint"==typeof e?new d(e):e}l.prototype.toArray=function(e){return Y(this,e)},c.prototype.toArray=function(e){return Y(this,e)},d.prototype.toArray=function(e){return Y(this,e)},l.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t)return z(this,t,n);for(var r,i=this.value,a=i.length,s=String(i[--a]);--a>=0;)r=String(i[a]),s+="0000000".slice(r.length)+r;return(this.sign?"-":"")+s},c.prototype.toString=function(t,n){return t===e&&(t=10),10!=t?z(this,t,n):String(this.value)},d.prototype.toString=c.prototype.toString,d.prototype.toJSON=l.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},l.prototype.valueOf=function(){return parseInt(this.toString(),10)},l.prototype.toJSNumber=l.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,d.prototype.valueOf=d.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var X=0;X<1e3;X++)u[X]=W(X),X>0&&(u[-X]=W(-X));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=H,u.min=K,u.gcd=F,u.lcm=function(e,t){return e=W(e).abs(),t=W(t).abs(),e.divide(F(e,t)).multiply(t)},u.isInstance=function(e){return e instanceof l||e instanceof c||e instanceof d},u.randBetween=function(e,t,r){e=W(e),t=W(t);var i=r||Math.random,a=K(e,t),s=H(e,t).subtract(a).add(1);if(s.isSmall)return a.add(Math.floor(i()*s));for(var o=Y(s,n).value,l=[],c=!0,d=0;d<o.length;d++){var p=c?o[d]:n,f=v(i()*p);l.push(f),f<p&&(c=!1)}return a.add(u.fromArray(l,n,!1))},u.fromArray=function(e,t,n){return $(e.map(W),W(t||10),n)},u}();e.hasOwnProperty("exports")&&(e.exports=t)}(pt);var ft=r(pt.exports);function ht(e,t,n){let r=0;for(let i=0;i<n;i++){const n=e[t+i];if(void 0===n)break;r+=n*16**i}return r}function _t(e){const t=[];for(let n=0;n<e.length;n++){let r=Number(e[n]);for(let e=0;r||e<t.length;e++)r+=10*(t[e]||0),t[e]=r%16,r=(r-t[e])/16}return t}class mt{static fromString(e){return new mt(function(e){const t=_t(e),n=Array(4);for(let e=0;e<4;e++)n[3-e]=ht(t,4*e,4);return n}(e),e)}static fromBit(e){const t=Array(4),n=Math.floor(e/16);for(let r=0;r<4;r++)t[3-r]=r===n?1<<e-16*n:0;return new mt(t)}constructor(e,t){this.parts=e,this.str=t}and({parts:e}){return new mt(this.parts.map(((t,n)=>t&e[n])))}or({parts:e}){return new mt(this.parts.map(((t,n)=>t|e[n])))}xor({parts:e}){return new mt(this.parts.map(((t,n)=>t^e[n])))}not(){return new mt(this.parts.map((e=>~e)))}equals({parts:e}){return this.parts.every(((t,n)=>t===e[n]))}toString(){if(null!=this.str)return this.str;const e=new Array(16);return this.parts.forEach(((t,n)=>{const r=_t(t.toString());for(let t=0;t<4;t++)e[t+4*n]=r[3-t]||0})),this.str=ft.fromArray(e,16).toString()}toJSON(){return this.toString()}}const vt=function(){try{return BigInt,!0}catch(e){return!1}}();vt&&null==BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return this.toString()});const gt={},yt=vt?function(e){return BigInt(e)}:function(e){return e instanceof mt?e:("number"==typeof e&&(e=e.toString()),null!=gt[e]||(gt[e]=mt.fromString(e)),gt[e])},Et=yt(0),bt=vt?function(e=Et,t=Et){return e&t}:function(e=Et,t=Et){return e.and(t)},Tt=vt?function(e=Et,t=Et){return e|t}:function(e=Et,t=Et){return e.or(t)},wt=vt?function(e=Et,t=Et){return e^t}:function(e=Et,t=Et){return e.xor(t)},Nt=vt?function(e,t){return e===t}:function(e,t){return null==e||null==t?e==t:e.equals(t)};var At,St,It,Ot,Ct,Dt={combine:function(...e){let t=e[0];for(let n=1;n<e.length;n++)t=Tt(t,e[n]);return t},add:function(e,t){return t===Et?e:Tt(e,t)},remove:function(e,t){return t===Et?e:wt(e,bt(e,t))},filter:bt,invert:vt?function(e=Et){return~e}:function(e=Et){return e.not()},has:function(e,t){return Nt(bt(e,t),t)},hasAny:function(e,t){return!Nt(bt(e,t),Et)},equals:Nt,deserialize:yt,getFlag:vt?function(e){return BigInt(1)<<BigInt(e)}:function(e){return mt.fromBit(e)}};function kt(e){return ot((t=>{var n;const[r]=null!==(n=Object.entries(e).find((([,e])=>e===t)))&&void 0!==n?n:[];return null!=t&&void 0===r?e.UNHANDLED:t}),Ce().or(De()))}!function(e){e[e.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",e[e.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",e[e.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",e[e.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",e[e.INVALID_ORIGIN=4001]="INVALID_ORIGIN",e[e.RATELIMITED=4002]="RATELIMITED",e[e.TOKEN_REVOKED=4003]="TOKEN_REVOKED",e[e.INVALID_VERSION=4004]="INVALID_VERSION",e[e.INVALID_ENCODING=4005]="INVALID_ENCODING"}(At||(At={})),function(e){e[e.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",e[e.INVALID_COMMAND=4002]="INVALID_COMMAND",e[e.INVALID_EVENT=4004]="INVALID_EVENT",e[e.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"}(St||(St={})),function(e){e.LANDSCAPE="landscape",e.PORTRAIT="portrait"}(It||(It={})),(Ct=Ot||(Ot={})).MOBILE="mobile",Ct.DESKTOP="desktop",Object.freeze({CREATE_INSTANT_INVITE:Dt.getFlag(0),ADMINISTRATOR:Dt.getFlag(3)});const xt=dt.object({image_url:dt.string()}),Rt=dt.object({mediaUrl:dt.string().max(1024)}),Lt=dt.object({access_token:dt.union([dt.string(),dt.null()]).optional()}),Pt=dt.object({access_token:dt.string(),user:dt.object({username:dt.string(),discriminator:dt.string(),id:dt.string(),avatar:dt.union([dt.string(),dt.null()]).optional(),public_flags:dt.number(),global_name:dt.union([dt.string(),dt.null()]).optional()}),scopes:dt.array(function(e){const t=Se().transform((t=>{const n=e.safeParse(t);return n.success?n.data:e._def.defaultValue()}));return t.overlayType=e,t}(dt.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","gdm.join","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","bot","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.update","applications.commands.permissions.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","voice","dm_channels.read","role_connections.write"]).or(dt.literal(-1)).default(-1))),expires:dt.string(),application:dt.object({description:dt.string(),icon:dt.union([dt.string(),dt.null()]).optional(),id:dt.string(),rpc_origins:dt.array(dt.string()).optional(),name:dt.string()})}),Mt=dt.object({participants:dt.array(dt.object({id:dt.string(),username:dt.string(),global_name:dt.union([dt.string(),dt.null()]).optional(),discriminator:dt.string(),avatar:dt.union([dt.string(),dt.null()]).optional(),flags:dt.number(),bot:dt.boolean(),avatar_decoration_data:dt.union([dt.object({asset:dt.string(),skuId:dt.string().optional()}),dt.null()]).optional(),premium_type:dt.union([dt.number(),dt.null()]).optional(),nickname:dt.string().optional()}))});var Ut;!function(e){e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.AUTHENTICATE="AUTHENTICATE",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"}(Ut||(Ut={}));const Zt=dt.object({}).optional().nullable(),jt=dt.void(),Bt={[Ut.INITIATE_IMAGE_UPLOAD]:{request:jt,response:xt},[Ut.OPEN_SHARE_MOMENT_DIALOG]:{request:Rt,response:Zt},[Ut.AUTHENTICATE]:{request:Lt,response:Pt},[Ut.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:jt,response:Mt}},Gt="DISPATCH";var Vt;!function(e){e.AUTHORIZE="AUTHORIZE",e.AUTHENTICATE="AUTHENTICATE",e.GET_GUILDS="GET_GUILDS",e.GET_GUILD="GET_GUILD",e.GET_CHANNEL="GET_CHANNEL",e.GET_CHANNELS="GET_CHANNELS",e.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",e.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",e.SUBSCRIBE="SUBSCRIBE",e.UNSUBSCRIBE="UNSUBSCRIBE",e.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",e.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",e.SET_ACTIVITY="SET_ACTIVITY",e.GET_SKUS="GET_SKUS",e.GET_ENTITLEMENTS="GET_ENTITLEMENTS",e.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",e.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",e.START_PURCHASE="START_PURCHASE",e.SET_CONFIG="SET_CONFIG",e.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",e.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",e.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",e.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",e.CAPTURE_LOG="CAPTURE_LOG",e.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",e.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",e.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",e.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"}(Vt||(Vt={}));const Ht=He({cmd:Ce(),data:je(),evt:Ue(),nonce:Ce()}).passthrough(),Kt=(kt(Object.assign(Object.assign({},Pt.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1})),He({id:Ce(),username:Ce(),discriminator:Ce(),global_name:Ce().optional().nullable(),avatar:Ce().optional().nullable(),avatar_decoration_data:He({asset:Ce(),sku_id:Ce().optional()}).nullable(),bot:Re(),flags:De().optional().nullable(),premium_type:De().optional().nullable()})),Ft=He({user:Kt,nick:Ce().optional().nullable(),roles:Ve(Ce()),joined_at:Ce(),deaf:Re(),mute:Re()}),qt=He({id:Ce(),name:Ce().optional().nullable(),roles:Ve(Ce()).optional().nullable(),user:Kt.optional().nullable(),require_colons:Re().optional().nullable(),managed:Re().optional().nullable(),animated:Re().optional().nullable(),available:Re().optional().nullable()}),$t=He({mute:Re(),deaf:Re(),self_mute:Re(),self_deaf:Re(),suppress:Re()}),Yt=He({mute:Re(),nick:Ce(),user:Kt,voice_state:$t,volume:De()}),zt=kt({UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"}),Jt=He({name:Ce(),type:De(),url:Ce().optional().nullable(),created_at:De().optional().nullable(),timestamps:He({start:De(),end:De()}).partial().optional().nullable(),application_id:Ce().optional().nullable(),details:Ce().optional().nullable(),state:Ce().optional().nullable(),emoji:qt.optional().nullable(),party:He({id:Ce().optional().nullable(),size:Ve(De()).optional().nullable()}).optional().nullable(),assets:He({large_image:Ce().nullable(),large_text:Ce().nullable(),small_image:Ce().nullable(),small_text:Ce().nullable()}).partial().optional().nullable(),secrets:He({join:Ce(),match:Ce()}).partial().optional().nullable(),instance:Re().optional().nullable(),flags:De().optional().nullable()}),Wt=He({id:Ce(),type:kt({UNHANDLED:-1,ROLE:0,MEMBER:1}),allow:Ce(),deny:Ce()}),Xt={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},Qt=He({id:Ce(),type:kt(Xt),guild_id:Ce().optional().nullable(),position:De().optional().nullable(),permission_overwrites:Ve(Wt).optional().nullable(),name:Ce().optional().nullable(),topic:Ce().optional().nullable(),nsfw:Re().optional().nullable(),last_message_id:Ce().optional().nullable(),bitrate:De().optional().nullable(),user_limit:De().optional().nullable(),rate_limit_per_user:De().optional().nullable(),recipients:Ve(Kt).optional().nullable(),icon:Ce().optional().nullable(),owner_id:Ce().optional().nullable(),application_id:Ce().optional().nullable(),parent_id:Ce().optional().nullable(),last_pin_timestamp:Ce().optional().nullable()}),en=He({user:Kt,guild_id:Ce(),status:zt,activities:Ve(Jt),client_status:He({desktop:zt,mobile:zt,web:zt}).partial()}),tn=He({id:Ce(),name:Ce(),color:De(),hoist:Re(),position:De(),permissions:Ce(),managed:Re(),mentionable:Re()}),nn=(He({id:Ce(),name:Ce(),owner_id:Ce(),icon:Ce().nullable(),icon_hash:Ce().optional().nullable(),splash:Ce().nullable(),discovery_splash:Ce().nullable(),owner:Re().optional().nullable(),permissions:Ce().optional().nullable(),region:Ce(),afk_channel_id:Ce().nullable(),afk_timeout:De(),widget_enabled:Re().optional().nullable(),widget_channel_id:Ce().optional().nullable(),verification_level:De(),default_message_notifications:De(),explicit_content_filter:De(),roles:Ve(tn),emojis:Ve(qt),features:Ve(Ce()),mfa_level:De(),application_id:Ce().nullable(),system_channel_id:Ce().nullable(),system_channel_flags:De(),rules_channel_id:Ce().nullable(),joined_at:Ce().optional().nullable(),large:Re().optional().nullable(),unavailable:Re().optional().nullable(),member_count:De().optional().nullable(),voice_states:Ve($t).optional().nullable(),members:Ve(Ft).optional().nullable(),channels:Ve(Qt).optional().nullable(),presences:Ve(en).optional().nullable(),max_presences:De().optional().nullable(),max_members:De().optional().nullable(),vanity_url_code:Ce().nullable(),description:Ce().nullable(),banner:Ce().nullable(),premium_tier:De(),premium_subscription_count:De().optional().nullable(),preferred_locale:Ce(),public_updates_channel_id:Ce().nullable(),max_video_channel_users:De().optional().nullable(),approximate_member_count:De().optional().nullable(),approximate_presence_count:De().optional().nullable()}),He({id:Ce(),guild_id:Ce(),type:De(),name:Ce()})),rn=He({id:Ce(),filename:Ce(),size:De(),url:Ce(),proxy_url:Ce(),height:De().optional().nullable(),width:De().optional().nullable()}),an=He({text:Ce(),icon_url:Ce().optional().nullable(),proxy_icon_url:Ce().optional().nullable()}),sn=He({url:Ce().optional().nullable(),proxy_url:Ce().optional().nullable(),height:De().optional().nullable(),width:De().optional().nullable()}),on=sn.omit({proxy_url:!0}),un=He({name:Ce().optional().nullable(),url:Ce().optional().nullable()}),ln=He({name:Ce().optional().nullable(),url:Ce().optional().nullable(),icon_url:Ce().optional().nullable(),proxy_icon_url:Ce().optional().nullable()}),cn=He({name:Ce(),value:Ce(),inline:Re()}),dn=He({title:Ce().optional().nullable(),type:Ce().optional().nullable(),description:Ce().optional().nullable(),url:Ce().optional().nullable(),timestamp:Ce().optional().nullable(),color:De().optional().nullable(),footer:an.optional().nullable(),image:sn.optional().nullable(),thumbnail:sn.optional().nullable(),video:on.optional().nullable(),provider:un.optional().nullable(),author:ln.optional().nullable(),fields:Ve(cn).optional().nullable()}),pn=He({count:De(),me:Re(),emoji:qt}),fn=He({type:De(),party_id:Ce().optional().nullable()}),hn=He({id:Ce(),cover_image:Ce().optional().nullable(),description:Ce(),icon:Ce().optional().nullable(),name:Ce()}),_n=He({message_id:Ce().optional().nullable(),channel_id:Ce().optional().nullable(),guild_id:Ce().optional().nullable()}),mn=He({id:Ce(),channel_id:Ce(),guild_id:Ce().optional().nullable(),author:Kt.optional().nullable(),member:Ft.optional().nullable(),content:Ce(),timestamp:Ce(),edited_timestamp:Ce().optional().nullable(),tts:Re(),mention_everyone:Re(),mentions:Ve(Kt),mention_roles:Ve(Ce()),mention_channels:Ve(nn),attachments:Ve(rn),embeds:Ve(dn),reactions:Ve(pn).optional().nullable(),nonce:Fe([Ce(),De()]).optional().nullable(),pinned:Re(),webhook_id:Ce().optional().nullable(),type:De(),activity:fn.optional().nullable(),application:hn.optional().nullable(),message_reference:_n.optional().nullable(),flags:De().optional().nullable(),stickers:Ve(je()).optional().nullable(),referenced_message:je().optional().nullable()}),vn=He({id:Ce(),name:Ce()}),gn=He({type:kt({UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3}),code:De(),name:Ce()}),yn=He({type:kt({UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"}),auto_threshold:Re(),threshold:De(),shortcut:Ve(gn),delay:De()}),En=He({device_id:Ce(),volume:De(),available_devices:Ve(vn)}),bn=(He({type:kt({UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"}),id:Ce(),vendor:He({name:Ce(),url:Ce()}),model:He({name:Ce(),url:Ce()}),related:Ve(Ce()),echo_cancellation:Re().optional().nullable(),noise_suppression:Re().optional().nullable(),automatic_gain_control:Re().optional().nullable(),hardware_mute:Re().optional().nullable()}),He({id:Ce(),name:Ce(),type:kt({UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5}),price:He({amount:De(),currency:Ce()}),application_id:Ce(),flags:De(),release_date:Ce().nullable()})),Tn=He({id:Ce(),sku_id:Ce(),application_id:Ce(),user_id:Ce(),gift_code_flags:De(),type:kt({UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7}),gifter_user_id:Ce().optional().nullable(),branches:Ve(Ce()).optional().nullable(),starts_at:Ce().optional().nullable(),ends_at:Ce().optional().nullable(),parent_id:Ce().optional().nullable(),consumed:Re().optional().nullable(),deleted:Re().optional().nullable(),gift_code_batch_id:Ce().optional().nullable()}),wn=(kt({UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3}),kt({UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3})),Nn={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1},An=(kt(Nn),{UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2}),Sn=(kt(An),"ERROR");var In;!function(e){e.READY="READY",e.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",e.SPEAKING_START="SPEAKING_START",e.SPEAKING_STOP="SPEAKING_STOP",e.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",e.ORIENTATION_UPDATE="ORIENTATION_UPDATE",e.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",e.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",e.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",e.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"}(In||(In={}));const On=Ht.extend({evt:nt(In),nonce:Ce().nullable(),cmd:et(Gt),data:He({}).passthrough()}),Cn=Ht.extend({evt:et(Sn),data:He({code:De(),message:Ce().optional()}).passthrough(),cmd:nt(Vt),nonce:Ce().nullable()}),Dn=On.extend({evt:Ce()}),kn=Fe([On,Dn,Cn]),xn={[In.READY]:{payload:On.extend({evt:et(In.READY),data:He({v:De(),config:He({cdn_host:Ce().optional(),api_endpoint:Ce(),environment:Ce()}),user:He({id:Ce(),username:Ce(),discriminator:Ce(),avatar:Ce().optional()}).optional()})})},[In.VOICE_STATE_UPDATE]:{payload:On.extend({evt:et(In.VOICE_STATE_UPDATE),data:Yt}),subscribeArgs:He({channel_id:Ce()})},[In.SPEAKING_START]:{payload:On.extend({evt:et(In.SPEAKING_START),data:He({lobby_id:Ce().optional(),channel_id:Ce().optional(),user_id:Ce()})}),subscribeArgs:He({lobby_id:Ce().nullable().optional(),channel_id:Ce().nullable().optional()})},[In.SPEAKING_STOP]:{payload:On.extend({evt:et(In.SPEAKING_STOP),data:He({lobby_id:Ce().optional(),channel_id:Ce().optional(),user_id:Ce()})}),subscribeArgs:He({lobby_id:Ce().nullable().optional(),channel_id:Ce().nullable().optional()})},[In.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:On.extend({evt:et(In.ACTIVITY_LAYOUT_MODE_UPDATE),data:He({layout_mode:kt(An)})})},[In.ORIENTATION_UPDATE]:{payload:On.extend({evt:et(In.ORIENTATION_UPDATE),data:He({screen_orientation:kt(Nn),orientation:nt(It)})})},[In.CURRENT_USER_UPDATE]:{payload:On.extend({evt:et(In.CURRENT_USER_UPDATE),data:Kt})},[In.ENTITLEMENT_CREATE]:{payload:On.extend({evt:et(In.ENTITLEMENT_CREATE),data:He({entitlement:Tn})})},[In.THERMAL_STATE_UPDATE]:{payload:On.extend({evt:et(In.THERMAL_STATE_UPDATE),data:He({thermal_state:wn})})},[In.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:On.extend({evt:et(In.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:He({participants:Mt.shape.participants})})}},Rn=He({}).nullable(),Ln=He({code:Ce()}),Pn=He({guilds:Ve(He({id:Ce(),name:Ce()}))}),Mn=He({id:Ce(),name:Ce(),icon_url:Ce().optional(),members:Ve(Ft)}),Un=He({id:Ce(),type:kt(Xt),guild_id:Ce().optional().nullable(),name:Ce().optional().nullable(),topic:Ce().optional().nullable(),bitrate:De().optional().nullable(),user_limit:De().optional().nullable(),position:De().optional().nullable(),voice_states:Ve(Yt),messages:Ve(mn)}),Zn=He({channels:Ve(Qt)}),jn=(Un.nullable(),Un.nullable()),Bn=Un.nullable(),Gn=(He({input:En,output:En,mode:yn,automatic_gain_control:Re(),echo_cancellation:Re(),noise_suppression:Re(),qos:Re(),silence_warning:Re(),deaf:Re(),mute:Re()}),He({evt:Ce()})),Vn=He({shortcut:gn}),Hn=Jt,Kn=He({skus:Ve(bn)}),Fn=He({entitlements:Ve(Tn)}),qn=Ve(Tn).nullable(),$n=He({use_interactive_pip:Re()}),Yn=He({locale:Ce()}),zn=He({enabled:Re()}),Jn=He({permissions:xe().or(Ce())}),Wn=He({iosKeyboardResizesView:at(Re())}),Xn=Ht.extend({cmd:nt(Vt),evt:Ue()});function Qn({cmd:e,data:t}){switch(e){case Vt.AUTHORIZE:return Ln.parse(t);case Vt.CAPTURE_SHORTCUT:return Vn.parse(t);case Vt.ENCOURAGE_HW_ACCELERATION:return zn.parse(t);case Vt.GET_CHANNEL:return Un.parse(t);case Vt.GET_CHANNELS:return Zn.parse(t);case Vt.GET_CHANNEL_PERMISSIONS:return Jn.parse(t);case Vt.GET_GUILD:return Mn.parse(t);case Vt.GET_GUILDS:return Pn.parse(t);case Vt.GET_PLATFORM_BEHAVIORS:return Wn.parse(t);case Vt.GET_CHANNEL:return Un.parse(t);case Vt.SELECT_TEXT_CHANNEL:return Bn.parse(t);case Vt.SELECT_VOICE_CHANNEL:return jn.parse(t);case Vt.SET_ACTIVITY:return Hn.parse(t);case Vt.GET_SKUS_EMBEDDED:return Kn.parse(t);case Vt.GET_ENTITLEMENTS_EMBEDDED:return Fn.parse(t);case Vt.SET_CONFIG:return $n.parse(t);case Vt.START_PURCHASE:return qn.parse(t);case Vt.SUBSCRIBE:case Vt.UNSUBSCRIBE:return Gn.parse(t);case Vt.USER_SETTINGS_GET_LOCALE:return Yn.parse(t);case Vt.OPEN_EXTERNAL_LINK:case Vt.SET_ORIENTATION_LOCK_STATE:case Vt.SET_CERTIFIED_DEVICES:case Vt.SEND_ANALYTICS_EVENT:case Vt.OPEN_INVITE_DIALOG:case Vt.CAPTURE_LOG:case Vt.GET_SKUS:case Vt.GET_ENTITLEMENTS:return Rn.parse(t);case Vt.AUTHENTICATE:case Vt.INITIATE_IMAGE_UPLOAD:case Vt.OPEN_SHARE_MOMENT_DIALOG:case Vt.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:n}=Bt[e];return n.parse(t);default:!function(e,t){throw t}(0,new Error(`Unrecognized command ${e}`))}}He({frame_id:Ce(),platform:nt(Ot).optional().nullable()}),He({v:et(1),encoding:et("json").optional(),client_id:Ce(),frame_id:Ce()});const er=He({code:De(),message:Ce().optional()}),tr=He({evt:Ce().nullable(),nonce:Ce().nullable(),data:je().nullable(),cmd:Ce()}).passthrough();function nr(e,t,n,r=(()=>{})){const i=Ht.extend({cmd:et(t),data:n});return async n=>{const a=await e({cmd:t,args:n,transfer:r(n)});return i.parse(a).data}}function rr(e,t=(()=>{})){const n=Bt[e].response,r=Ht.extend({cmd:et(e),data:n});return n=>async i=>{const a=await n({cmd:e,args:i,transfer:t(i)});return r.parse(a).data}}const ir=rr(Ut.AUTHENTICATE),ar=e=>nr(e,Vt.AUTHORIZE,Ln),sr=e=>nr(e,Vt.CAPTURE_LOG,Rn),or=e=>nr(e,Vt.ENCOURAGE_HW_ACCELERATION,zn),ur=e=>nr(e,Vt.GET_ENTITLEMENTS_EMBEDDED,Fn),lr=e=>nr(e,Vt.GET_SKUS_EMBEDDED,Kn),cr=e=>nr(e,Vt.GET_CHANNEL_PERMISSIONS,Jn),dr=e=>nr(e,Vt.GET_PLATFORM_BEHAVIORS,Wn),pr=e=>nr(e,Vt.OPEN_EXTERNAL_LINK,Rn),fr=e=>nr(e,Vt.OPEN_INVITE_DIALOG,Rn),hr=rr(Ut.OPEN_SHARE_MOMENT_DIALOG);Jt.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,buttons:!0,instance:!0,supported_platforms:!0,type:!0}).extend({type:Jt.shape.type.optional(),instance:Jt.shape.instance.optional()}).nullable();const _r=e=>nr(e,Vt.SET_ACTIVITY,Hn),mr=e=>nr(e,Vt.SET_CONFIG,$n),vr=e=>({lock_state:e.lock_state,picture_in_picture_lock_state:e.picture_in_picture_lock_state}),gr=e=>function({sendCommand:e,cmd:t,response:n,fallbackTransform:r,transferTransform:i=(()=>{})}){const a=Ht.extend({cmd:et(t),data:n});return async n=>{try{const r=await e({cmd:t,args:n,transfer:i(n)});return a.parse(r).data}catch(s){if(s.code===St.INVALID_PAYLOAD){const s=r(n),o=await e({cmd:t,args:s,transfer:i(s)});return a.parse(o).data}throw s}}}({sendCommand:e,cmd:Vt.SET_ORIENTATION_LOCK_STATE,response:Rn,fallbackTransform:vr}),yr=e=>nr(e,Vt.START_PURCHASE,qn),Er=e=>nr(e,Vt.USER_SETTINGS_GET_LOCALE,Yn),br=rr(Ut.INITIATE_IMAGE_UPLOAD),Tr=e=>nr(e,Vt.GET_CHANNEL,Un),wr=rr(Ut.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);var Nr,Ar=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Sr(e){return"string"==typeof e&&Ar.test(e)}for(var Ir=[],Or=0;Or<256;++Or)Ir.push((Or+256).toString(16).substr(1));function Cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ir[e[t+0]]+Ir[e[t+1]]+Ir[e[t+2]]+Ir[e[t+3]]+"-"+Ir[e[t+4]]+Ir[e[t+5]]+"-"+Ir[e[t+6]]+Ir[e[t+7]]+"-"+Ir[e[t+8]]+Ir[e[t+9]]+"-"+Ir[e[t+10]]+Ir[e[t+11]]+Ir[e[t+12]]+Ir[e[t+13]]+Ir[e[t+14]]+Ir[e[t+15]]).toLowerCase();if(!Sr(n))throw TypeError("Stringified UUID is invalid");return n}function Dr(e,t,n){function r(e,r,i,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=function(e){if(!Sr(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){a=a||0;for(var o=0;o<16;++o)i[a+o]=s[o];return i}return Cr(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function kr(e){return 14+(e+64>>>9<<4)+1}function xr(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Rr(e,t,n,r,i,a){return xr((s=xr(xr(t,e),xr(r,a)))<<(o=i)|s>>>32-o,n);var s,o}function Lr(e,t,n,r,i,a,s){return Rr(t&n|~t&r,e,t,i,a,s)}function Pr(e,t,n,r,i,a,s){return Rr(t&r|n&~r,e,t,i,a,s)}function Mr(e,t,n,r,i,a,s){return Rr(t^n^r,e,t,i,a,s)}function Ur(e,t,n,r,i,a,s){return Rr(n^(t|~r),e,t,i,a,s)}Dr("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[kr(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,s=0;s<e.length;s+=16){var o=n,u=r,l=i,c=a;n=Lr(n,r,i,a,e[s],7,-680876936),a=Lr(a,n,r,i,e[s+1],12,-389564586),i=Lr(i,a,n,r,e[s+2],17,606105819),r=Lr(r,i,a,n,e[s+3],22,-1044525330),n=Lr(n,r,i,a,e[s+4],7,-176418897),a=Lr(a,n,r,i,e[s+5],12,1200080426),i=Lr(i,a,n,r,e[s+6],17,-1473231341),r=Lr(r,i,a,n,e[s+7],22,-45705983),n=Lr(n,r,i,a,e[s+8],7,1770035416),a=Lr(a,n,r,i,e[s+9],12,-1958414417),i=Lr(i,a,n,r,e[s+10],17,-42063),r=Lr(r,i,a,n,e[s+11],22,-1990404162),n=Lr(n,r,i,a,e[s+12],7,1804603682),a=Lr(a,n,r,i,e[s+13],12,-40341101),i=Lr(i,a,n,r,e[s+14],17,-1502002290),n=Pr(n,r=Lr(r,i,a,n,e[s+15],22,1236535329),i,a,e[s+1],5,-165796510),a=Pr(a,n,r,i,e[s+6],9,-1069501632),i=Pr(i,a,n,r,e[s+11],14,643717713),r=Pr(r,i,a,n,e[s],20,-373897302),n=Pr(n,r,i,a,e[s+5],5,-701558691),a=Pr(a,n,r,i,e[s+10],9,38016083),i=Pr(i,a,n,r,e[s+15],14,-660478335),r=Pr(r,i,a,n,e[s+4],20,-405537848),n=Pr(n,r,i,a,e[s+9],5,568446438),a=Pr(a,n,r,i,e[s+14],9,-1019803690),i=Pr(i,a,n,r,e[s+3],14,-187363961),r=Pr(r,i,a,n,e[s+8],20,1163531501),n=Pr(n,r,i,a,e[s+13],5,-1444681467),a=Pr(a,n,r,i,e[s+2],9,-51403784),i=Pr(i,a,n,r,e[s+7],14,1735328473),n=Mr(n,r=Pr(r,i,a,n,e[s+12],20,-1926607734),i,a,e[s+5],4,-378558),a=Mr(a,n,r,i,e[s+8],11,-2022574463),i=Mr(i,a,n,r,e[s+11],16,1839030562),r=Mr(r,i,a,n,e[s+14],23,-35309556),n=Mr(n,r,i,a,e[s+1],4,-1530992060),a=Mr(a,n,r,i,e[s+4],11,1272893353),i=Mr(i,a,n,r,e[s+7],16,-155497632),r=Mr(r,i,a,n,e[s+10],23,-1094730640),n=Mr(n,r,i,a,e[s+13],4,681279174),a=Mr(a,n,r,i,e[s],11,-358537222),i=Mr(i,a,n,r,e[s+3],16,-722521979),r=Mr(r,i,a,n,e[s+6],23,76029189),n=Mr(n,r,i,a,e[s+9],4,-640364487),a=Mr(a,n,r,i,e[s+12],11,-421815835),i=Mr(i,a,n,r,e[s+15],16,530742520),n=Ur(n,r=Mr(r,i,a,n,e[s+2],23,-995338651),i,a,e[s],6,-198630844),a=Ur(a,n,r,i,e[s+7],10,1126891415),i=Ur(i,a,n,r,e[s+14],15,-1416354905),r=Ur(r,i,a,n,e[s+5],21,-57434055),n=Ur(n,r,i,a,e[s+12],6,1700485571),a=Ur(a,n,r,i,e[s+3],10,-1894986606),i=Ur(i,a,n,r,e[s+10],15,-1051523),r=Ur(r,i,a,n,e[s+1],21,-2054922799),n=Ur(n,r,i,a,e[s+8],6,1873313359),a=Ur(a,n,r,i,e[s+15],10,-30611744),i=Ur(i,a,n,r,e[s+6],15,-1560198380),r=Ur(r,i,a,n,e[s+13],21,1309151649),n=Ur(n,r,i,a,e[s+4],6,-145523070),a=Ur(a,n,r,i,e[s+11],10,-1120210379),i=Ur(i,a,n,r,e[s+2],15,718787259),r=Ur(r,i,a,n,e[s+9],21,-343485551),n=xr(n,o),r=xr(r,u),i=xr(i,l),a=xr(a,c)}return[n,r,i,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(kr(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var Zr=new Uint8Array(16);function jr(){if(!Nr&&!(Nr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nr(Zr)}function Br(e,t,n){var r=(e=e||{}).random||(e.rng||jr)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Cr(r)}function Gr(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function Vr(e,t){return e<<t|e>>>32-t}Dr("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,s=Math.ceil(a/16),o=new Array(s),u=0;u<s;++u){for(var l=new Uint32Array(16),c=0;c<16;++c)l[c]=e[64*u+4*c]<<24|e[64*u+4*c+1]<<16|e[64*u+4*c+2]<<8|e[64*u+4*c+3];o[u]=l}o[s-1][14]=8*(e.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=o[d][f];for(var h=16;h<80;++h)p[h]=Vr(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var _=n[0],m=n[1],v=n[2],g=n[3],y=n[4],E=0;E<80;++E){var b=Math.floor(E/20),T=Vr(_,5)+Gr(b,m,v,g)+y+t[b]+p[E]>>>0;y=g,g=v,v=Vr(m,30)>>>0,m=_,_=T}n[0]=n[0]+_>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));class Hr extends Error{constructor(e,t=""){super(t),this.code=e,this.message=t,this.name="Discord SDK Error"}}const Kr=["log","warn","debug","info","error"];var Fr;!function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.FRAME=1]="FRAME",e[e.CLOSE=2]="CLOSE",e[e.HELLO=3]="HELLO"}(Fr||(Fr={}));const qr=new Set("undefined"==typeof window?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]);class $r{getTransfer(e){var t;switch(e.cmd){case Vt.SUBSCRIBE:case Vt.UNSUBSCRIBE:return;default:return null!==(t=e.transfer)&&void 0!==t?t:void 0}}constructor(e,t){var n;if(this.source=null,this.sourceOrigin="",this.eventBus=new o,this.pendingCommands=new Map,this.sendCommand=e=>{var t;if(null==this.source)throw new Error("Attempting to send message before initialization");const n=Br();return null===(t=this.source)||void 0===t||t.postMessage([Fr.FRAME,Object.assign(Object.assign({},e),{nonce:n})],this.sourceOrigin,this.getTransfer(e)),new Promise(((e,t)=>{this.pendingCommands.set(n,{resolve:e,reject:t})}))},this.commands=(n=this.sendCommand,{authenticate:ir(n),authorize:ar(n),captureLog:sr(n),encourageHardwareAcceleration:or(n),getChannel:Tr(n),getChannelPermissions:cr(n),getEntitlements:ur(n),getPlatformBehaviors:dr(n),getSkus:lr(n),openExternalLink:pr(n),openInviteDialog:fr(n),openShareMomentDialog:hr(n),setActivity:_r(n),setConfig:mr(n),setOrientationLockState:gr(n),startPurchase:yr(n),userSettingsGetLocale:Er(n),initiateImageUpload:br(n),getInstanceConnectedParticipants:wr(n)}),this.handleMessage=e=>{if(!qr.has(e.origin))return;const t=e.data;if(!Array.isArray(t))return;const[n,r]=t;switch(n){case Fr.HELLO:return;case Fr.CLOSE:return this.handleClose(r);case Fr.HANDSHAKE:return this.handleHandshake();case Fr.FRAME:return this.handleFrame(r);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=null!=t?t:{disableConsoleLogOverride:!1},"undefined"!=typeof window&&window.addEventListener("message",this.handleMessage),"undefined"==typeof window)return this.frameId="",this.instanceId="",this.platform=Ot.DESKTOP,this.guildId=null,void(this.channelId=null);const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const a=r.get("instance_id");if(!a)throw new Error("instance_id query param is not defined");this.instanceId=a;const s=r.get("platform");if(!s)throw new Error("platform query param is not defined");if(s!==Ot.DESKTOP&&s!==Ot.MOBILE)throw new Error(`Invalid query param "platform" of "${s}". Valid values are "${Ot.DESKTOP}" or "${Ot.MOBILE}"`);var u;this.platform=s,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),[this.source,this.sourceOrigin]=[null!==(u=window.parent.opener)&&void 0!==u?u:window.parent,document.referrer?document.referrer:"*"],this.addOnReadyListener(),this.handshake()}close(e,t){var n;window.removeEventListener("message",this.handleMessage);const r=Br();null===(n=this.source)||void 0===n||n.postMessage([Fr.CLOSE,{code:e,message:t,nonce:r}],this.sourceOrigin)}async subscribe(e,t,...n){const[r]=n,i=this.eventBus.listenerCount(e),a=this.eventBus.on(e,t);return Object.values(In).includes(e)&&e!==In.READY&&0===i&&await this.sendCommand({cmd:Vt.SUBSCRIBE,args:r,evt:e}),a}async unsubscribe(e,t,...n){const[r]=n;return e!==In.READY&&1===this.eventBus.listenerCount(e)&&await this.sendCommand({cmd:Vt.UNSUBSCRIBE,evt:e,args:r}),this.eventBus.off(e,t)}async ready(){this.isReady||await new Promise((e=>{this.eventBus.once(In.READY,e)}))}handshake(){var e;null===(e=this.source)||void 0===e||e.postMessage([Fr.HANDSHAKE,{v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId}],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(In.READY,(()=>{this.overrideConsoleLogging(),this.isReady=!0}))}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(e,t)=>{this.commands.captureLog({level:e,message:t})};Kr.forEach((t=>{!function(e,t,n){const r=e[t],i=e;r&&(e[t]=function(){const e=[].slice.call(arguments),a=""+e.join(" ");n(t,a),r.apply(i,e)})}(console,t,e)}))}handleClose(e){er.parse(e)}handleHandshake(){}handleFrame(e){var t,n;let r;try{r=function(e){const t=tr.parse(e);return null!=t.evt?t.evt===Sn?Cn.parse(t):function(e){const t=e.evt;if(!(t in In))throw new Error(`Unrecognized event type ${e.evt}`);return xn[t].payload.parse(e)}(kn.parse(t)):function(e){return Object.assign(Object.assign({},e),{data:Qn(e)})}(Xn.passthrough().parse(t))}(e)}catch(t){return console.error("Failed to parse",e),void console.error(t)}if("DISPATCH"===r.cmd)this.eventBus.emit(r.evt,r.data);else{if(r.evt===Sn){if(null!=r.nonce)return null===(t=this.pendingCommands.get(r.nonce))||void 0===t||t.reject(r.data),void this.pendingCommands.delete(r.nonce);this.eventBus.emit("error",new Hr(r.data.code,r.data.message))}if(null==r.nonce)return void console.error("Missing nonce",e);null===(n=this.pendingCommands.get(r.nonce))||void 0===n||n.resolve(r),this.pendingCommands.delete(r.nonce)}}_getSearch(){return"undefined"==typeof window?"":window.location.search}}var Yr,zr=1e9,Jr=!0,Wr="[DecimalError] ",Xr=Wr+"Invalid argument: ",Qr=Wr+"Exponent out of range: ",ei=Math.floor,ti=Math.pow,ni=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri=1e7,ii=7,ai=9007199254740991,si=ei(ai/ii),oi={};function ui(e,t){var n,r,i,a,s,o,u,l,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Jr?gi(t,d):t;if(u=e.d,l=t.d,s=e.e,i=t.e,u=u.slice(),a=s-i){for(a<0?(r=u,a=-a,o=l.length):(r=l,i=s,o=u.length),a>(o=(s=Math.ceil(d/ii))>o?s+1:o+1)&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((o=u.length)-(a=l.length)<0&&(a=o,r=l,l=u,u=r),n=0;a;)n=(u[--a]=u[a]+l[a]+n)/ri|0,u[a]%=ri;for(n&&(u.unshift(n),++i),o=u.length;0==u[--o];)u.pop();return t.d=u,t.e=i,Jr?gi(t,d):t}function li(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Xr+e)}function ci(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",(n=ii-r.length)&&(a+=_i(n)),a+=r;s=e[t],(n=ii-(r=s+"").length)&&(a+=_i(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}oi.absoluteValue=oi.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},oi.comparedTo=oi.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},oi.decimalPlaces=oi.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ii;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},oi.dividedBy=oi.div=function(e){return di(this,new this.constructor(e))},oi.dividedToIntegerBy=oi.idiv=function(e){var t=this.constructor;return gi(di(this,new t(e),0,1),t.precision)},oi.equals=oi.eq=function(e){return!this.cmp(e)},oi.exponent=function(){return fi(this)},oi.greaterThan=oi.gt=function(e){return this.cmp(e)>0},oi.greaterThanOrEqualTo=oi.gte=function(e){return this.cmp(e)>=0},oi.isInteger=oi.isint=function(){return this.e>this.d.length-2},oi.isNegative=oi.isneg=function(){return this.s<0},oi.isPositive=oi.ispos=function(){return this.s>0},oi.isZero=function(){return 0===this.s},oi.lessThan=oi.lt=function(e){return this.cmp(e)<0},oi.lessThanOrEqualTo=oi.lte=function(e){return this.cmp(e)<1},oi.logarithm=oi.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(Yr))throw Error(Wr+"NaN");if(n.s<1)throw Error(Wr+(n.s?"NaN":"-Infinity"));return n.eq(Yr)?new r(0):(Jr=!1,t=di(mi(n,a),mi(e,a),a),Jr=!0,gi(t,i))},oi.minus=oi.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yi(t,e):ui(t,(e.s=-e.s,e))},oi.modulo=oi.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(Wr+"NaN");return n.s?(Jr=!1,t=di(n,e,0,1).times(e),Jr=!0,n.minus(t)):gi(new r(n),i)},oi.naturalExponential=oi.exp=function(){return pi(this)},oi.naturalLogarithm=oi.ln=function(){return mi(this)},oi.negated=oi.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},oi.plus=oi.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ui(t,e):yi(t,(e.s=-e.s,e))},oi.precision=oi.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Xr+e);if(t=fi(i)+1,n=(r=i.d.length-1)*ii+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},oi.squareRoot=oi.sqrt=function(){var e,t,n,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Wr+"NaN")}for(e=fi(o),Jr=!1,0==(i=Math.sqrt(+o))||i==1/0?(((t=ci(o.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ei((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"1e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=s=(n=u.precision)+3;;)if(r=(a=r).plus(di(o,a,s+2)).times(.5),ci(a.d).slice(0,s)===(t=ci(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(gi(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if("9999"!=t)break;s+=4}return Jr=!0,gi(r,n)},oi.times=oi.mul=function(e){var t,n,r,i,a,s,o,u,l,c=this,d=c.constructor,p=c.d,f=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,(u=p.length)<(l=f.length)&&(a=p,p=f,f=a,s=u,u=l,l=s),a=[],r=s=u+l;r--;)a.push(0);for(r=l;--r>=0;){for(t=0,i=u+r;i>r;)o=a[i]+f[r]*p[i-r-1]+t,a[i--]=o%ri|0,t=o/ri|0;a[i]=(a[i]+t)%ri|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Jr?gi(e,d.precision):e},oi.toDecimalPlaces=oi.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(li(e,0,zr),void 0===t?t=r.rounding:li(t,0,8),gi(n,e+fi(n)+1,t))},oi.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Ei(r,!0):(li(e,0,zr),void 0===t?t=i.rounding:li(t,0,8),n=Ei(r=gi(new i(r),e+1,t),!0,e+1)),n},oi.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?Ei(i):(li(e,0,zr),void 0===t?t=a.rounding:li(t,0,8),n=Ei((r=gi(new a(i),e+fi(i)+1,t)).abs(),!1,e+fi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},oi.toInteger=oi.toint=function(){var e=this,t=e.constructor;return gi(new t(e),fi(e)+1,t.rounding)},oi.toNumber=function(){return+this},oi.toPower=oi.pow=function(e){var t,n,r,i,a,s,o=this,u=o.constructor,l=+(e=new u(e));if(!e.s)return new u(Yr);if(!(o=new u(o)).s){if(e.s<1)throw Error(Wr+"Infinity");return o}if(o.eq(Yr))return o;if(r=u.precision,e.eq(Yr))return gi(o,r);if(s=(t=e.e)>=(n=e.d.length-1),a=o.s,s){if((n=l<0?-l:l)<=ai){for(i=new u(Yr),t=Math.ceil(r/ii+4),Jr=!1;n%2&&bi((i=i.times(o)).d,t),0!==(n=ei(n/2));)bi((o=o.times(o)).d,t);return Jr=!0,e.s<0?new u(Yr).div(i):gi(i,r)}}else if(a<0)throw Error(Wr+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,Jr=!1,i=e.times(mi(o,r+12)),Jr=!0,(i=pi(i)).s=a,i},oi.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=Ei(i,(n=fi(i))<=a.toExpNeg||n>=a.toExpPos):(li(e,1,zr),void 0===t?t=a.rounding:li(t,0,8),r=Ei(i=gi(new a(i),e,t),e<=(n=fi(i))||n<=a.toExpNeg,e)),r},oi.toSignificantDigits=oi.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(li(e,1,zr),void 0===t?t=n.rounding:li(t,0,8)),gi(new n(this),e,t)},oi.toString=oi.valueOf=oi.val=oi.toJSON=oi[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=fi(e),n=e.constructor;return Ei(e,t<=n.toExpNeg||t>=n.toExpPos)};var di=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%ri|0,r=n/ri|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*ri+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,u,l,c,d,p,f,h,_,m,v,g,y,E,b,T,w,N,A=r.constructor,S=r.s==i.s?1:-1,I=r.d,O=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(Wr+"Division by zero");for(u=r.e-i.e,w=O.length,b=I.length,h=(f=new A(S)).d=[],l=0;O[l]==(I[l]||0);)++l;if(O[l]>(I[l]||0)&&--u,(g=null==a?a=A.precision:s?a+(fi(r)-fi(i))+1:a)<0)return new A(0);if(g=g/ii+2|0,l=0,1==w)for(c=0,O=O[0],g++;(l<b||c)&&g--;l++)y=c*ri+(I[l]||0),h[l]=y/O|0,c=y%O|0;else{for((c=ri/(O[0]+1)|0)>1&&(O=e(O,c),I=e(I,c),w=O.length,b=I.length),E=w,m=(_=I.slice(0,w)).length;m<w;)_[m++]=0;(N=O.slice()).unshift(0),T=O[0],O[1]>=ri/2&&++T;do{c=0,(o=t(O,_,w,m))<0?(v=_[0],w!=m&&(v=v*ri+(_[1]||0)),(c=v/T|0)>1?(c>=ri&&(c=ri-1),1==(o=t(d=e(O,c),_,p=d.length,m=_.length))&&(c--,n(d,w<p?N:O,p))):(0==c&&(o=c=1),d=O.slice()),(p=d.length)<m&&d.unshift(0),n(_,d,m),-1==o&&(o=t(O,_,w,m=_.length))<1&&(c++,n(_,w<m?N:O,m)),m=_.length):0===o&&(c++,_=[0]),h[l++]=c,o&&_[0]?_[m++]=I[E]||0:(_=[I[E]],m=1)}while((E++<b||void 0!==_[0])&&g--)}return h[0]||h.shift(),f.e=u,gi(f,s?a+fi(f)+1:a)}}();function pi(e,t){var n,r,i,a,s,o=0,u=0,l=e.constructor,c=l.precision;if(fi(e)>16)throw Error(Qr+fi(e));if(!e.s)return new l(Yr);for(null==t?(Jr=!1,s=c):s=t,a=new l(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(s+=Math.log(ti(2,u))/Math.LN10*2+5|0,n=r=i=new l(Yr),l.precision=s;;){if(r=gi(r.times(e),s),n=n.times(++o),ci((a=i.plus(di(r,n,s))).d).slice(0,s)===ci(i.d).slice(0,s)){for(;u--;)i=gi(i.times(i),s);return l.precision=c,null==t?(Jr=!0,gi(i,c)):i}i=a}}function fi(e){for(var t=e.e*ii,n=e.d[0];n>=10;n/=10)t++;return t}function hi(e,t,n){if(t>e.LN10.sd())throw Jr=!0,n&&(e.precision=n),Error(Wr+"LN10 precision limit exceeded");return gi(new e(e.LN10),t)}function _i(e){for(var t="";e--;)t+="0";return t}function mi(e,t){var n,r,i,a,s,o,u,l,c,d=1,p=e,f=p.d,h=p.constructor,_=h.precision;if(p.s<1)throw Error(Wr+(p.s?"NaN":"-Infinity"));if(p.eq(Yr))return new h(0);if(null==t?(Jr=!1,l=_):l=t,p.eq(10))return null==t&&(Jr=!0),hi(h,l);if(l+=10,h.precision=l,r=(n=ci(f)).charAt(0),a=fi(p),!(Math.abs(a)<15e14))return u=hi(h,l+2,_).times(a+""),p=mi(new h(r+"."+n.slice(1)),l-10).plus(u),h.precision=_,null==t?(Jr=!0,gi(p,_)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=ci((p=p.times(e)).d)).charAt(0),d++;for(a=fi(p),r>1?(p=new h("0."+n),a++):p=new h(r+"."+n.slice(1)),o=s=p=di(p.minus(Yr),p.plus(Yr),l),c=gi(p.times(p),l),i=3;;){if(s=gi(s.times(c),l),ci((u=o.plus(di(s,new h(i),l))).d).slice(0,l)===ci(o.d).slice(0,l))return o=o.times(2),0!==a&&(o=o.plus(hi(h,l+2,_).times(a+""))),o=di(o,new h(d),l),h.precision=_,null==t?(Jr=!0,gi(o,_)):o;o=u,i+=2}}function vi(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=ei(n/ii),e.d=[],r=(n+1)%ii,n<0&&(r+=ii),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ii;r<i;)e.d.push(+t.slice(r,r+=ii));t=t.slice(r),r=ii-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Jr&&(e.e>si||e.e<-si))throw Error(Qr+n)}else e.s=0,e.e=0,e.d=[0];return e}function gi(e,t,n){var r,i,a,s,o,u,l,c,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=ii,i=t,l=d[c=0];else{if((c=Math.ceil((r+1)/ii))>=(a=d.length))return e;for(l=a=d[c],s=1;a>=10;a/=10)s++;i=(r%=ii)-ii+s}if(void 0!==n&&(o=l/(a=ti(10,s-i-1))%10|0,u=t<0||void 0!==d[c+1]||l%a,u=n<4?(o||u)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||u||6==n&&(r>0?i>0?l/ti(10,s-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return u?(a=fi(e),d.length=1,t=t-a-1,d[0]=ti(10,(ii-t%ii)%ii),e.e=ei(-t/ii)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=c,a=1,c--):(d.length=c+1,a=ti(10,ii-r),d[c]=i>0?(l/ti(10,s-i)%ti(10,i)|0)*a:0),u)for(;;){if(0==c){(d[0]+=a)==ri&&(d[0]=1,++e.e);break}if(d[c]+=a,d[c]!=ri)break;d[c--]=0,a=1}for(r=d.length;0===d[--r];)d.pop();if(Jr&&(e.e>si||e.e<-si))throw Error(Qr+fi(e));return e}function yi(e,t){var n,r,i,a,s,o,u,l,c,d,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Jr?gi(t,f):t;if(u=e.d,d=t.d,r=t.e,l=e.e,u=u.slice(),s=l-r){for((c=s<0)?(n=u,s=-s,o=d.length):(n=d,r=l,o=u.length),s>(i=Math.max(Math.ceil(f/ii),o)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((c=(i=u.length)<(o=d.length))&&(o=i),i=0;i<o;i++)if(u[i]!=d[i]){c=u[i]<d[i];break}s=0}for(c&&(n=u,u=d,d=n,t.s=-t.s),o=u.length,i=d.length-o;i>0;--i)u[o++]=0;for(i=d.length;i>s;){if(u[--i]<d[i]){for(a=i;a&&0===u[--a];)u[a]=ri-1;--u[a],u[i]+=ri}u[i]-=d[i]}for(;0===u[--o];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,Jr?gi(t,f):t):new p(0)}function Ei(e,t,n){var r,i=fi(e),a=ci(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+_i(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_i(-i-1)+a,n&&(r=n-s)>0&&(a+=_i(r))):i>=s?(a+=_i(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+_i(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=_i(r))),e.s<0?"-"+a:a}function bi(e,t){if(e.length>t)return e.length=t,!0}function Ti(e){if(!e||"object"!=typeof e)throw Error(Wr+"Object expected");var t,n,r,i=["precision",1,zr,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(ei(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(Xr+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(Xr+n+": "+r);this[n]=new this(r)}return this}var wi,Ni=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Xr+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):vi(t,e.toString())}if("string"!=typeof e)throw Error(Xr+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!ni.test(e))throw Error(Xr+e);vi(t,e)}if(a.prototype=oi,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=Ti,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Yr=new Ni(1),function(e){e.AED="aed",e.AFN="afn",e.ALL="all",e.AMD="amd",e.ANG="ang",e.AOA="aoa",e.ARS="ars",e.AUD="aud",e.AWG="awg",e.AZN="azn",e.BAM="bam",e.BBD="bbd",e.BDT="bdt",e.BGN="bgn",e.BHD="bhd",e.BIF="bif",e.BMD="bmd",e.BND="bnd",e.BOB="bob",e.BOV="bov",e.BRL="brl",e.BSD="bsd",e.BTN="btn",e.BWP="bwp",e.BYN="byn",e.BYR="byr",e.BZD="bzd",e.CAD="cad",e.CDF="cdf",e.CHE="che",e.CHF="chf",e.CHW="chw",e.CLF="clf",e.CLP="clp",e.CNY="cny",e.COP="cop",e.COU="cou",e.CRC="crc",e.CUC="cuc",e.CUP="cup",e.CVE="cve",e.CZK="czk",e.DJF="djf",e.DKK="dkk",e.DOP="dop",e.DZD="dzd",e.EGP="egp",e.ERN="ern",e.ETB="etb",e.EUR="eur",e.FJD="fjd",e.FKP="fkp",e.GBP="gbp",e.GEL="gel",e.GHS="ghs",e.GIP="gip",e.GMD="gmd",e.GNF="gnf",e.GTQ="gtq",e.GYD="gyd",e.HKD="hkd",e.HNL="hnl",e.HRK="hrk",e.HTG="htg",e.HUF="huf",e.IDR="idr",e.ILS="ils",e.INR="inr",e.IQD="iqd",e.IRR="irr",e.ISK="isk",e.JMD="jmd",e.JOD="jod",e.JPY="jpy",e.KES="kes",e.KGS="kgs",e.KHR="khr",e.KMF="kmf",e.KPW="kpw",e.KRW="krw",e.KWD="kwd",e.KYD="kyd",e.KZT="kzt",e.LAK="lak",e.LBP="lbp",e.LKR="lkr",e.LRD="lrd",e.LSL="lsl",e.LTL="ltl",e.LVL="lvl",e.LYD="lyd",e.MAD="mad",e.MDL="mdl",e.MGA="mga",e.MKD="mkd",e.MMK="mmk",e.MNT="mnt",e.MOP="mop",e.MRO="mro",e.MUR="mur",e.MVR="mvr",e.MWK="mwk",e.MXN="mxn",e.MXV="mxv",e.MYR="myr",e.MZN="mzn",e.NAD="nad",e.NGN="ngn",e.NIO="nio",e.NOK="nok",e.NPR="npr",e.NZD="nzd",e.OMR="omr",e.PAB="pab",e.PEN="pen",e.PGK="pgk",e.PHP="php",e.PKR="pkr",e.PLN="pln",e.PYG="pyg",e.QAR="qar",e.RON="ron",e.RSD="rsd",e.RUB="rub",e.RWF="rwf",e.SAR="sar",e.SBD="sbd",e.SCR="scr",e.SDG="sdg",e.SEK="sek",e.SGD="sgd",e.SHP="shp",e.SLL="sll",e.SOS="sos",e.SRD="srd",e.SSP="ssp",e.STD="std",e.SVC="svc",e.SYP="syp",e.SZL="szl",e.THB="thb",e.TJS="tjs",e.TMT="tmt",e.TND="tnd",e.TOP="top",e.TRY="try",e.TTD="ttd",e.TWD="twd",e.TZS="tzs",e.UAH="uah",e.UGX="ugx",e.USD="usd",e.USN="usn",e.USS="uss",e.UYI="uyi",e.UYU="uyu",e.UZS="uzs",e.VEF="vef",e.VND="vnd",e.VUV="vuv",e.WST="wst",e.XAF="xaf",e.XAG="xag",e.XAU="xau",e.XBA="xba",e.XBB="xbb",e.XBC="xbc",e.XBD="xbd",e.XCD="xcd",e.XDR="xdr",e.XFU="xfu",e.XOF="xof",e.XPD="xpd",e.XPF="xpf",e.XPT="xpt",e.XSU="xsu",e.XTS="xts",e.XUA="xua",e.YER="yer",e.ZAR="zar",e.ZMW="zmw",e.ZWL="zwl"}(wi||(wi={})),wi.AED,wi.AFN,wi.ALL,wi.AMD,wi.ANG,wi.AOA,wi.ARS,wi.AUD,wi.AWG,wi.AZN,wi.BAM,wi.BBD,wi.BDT,wi.BGN,wi.BHD,wi.BIF,wi.BMD,wi.BND,wi.BOB,wi.BOV,wi.BRL,wi.BSD,wi.BTN,wi.BWP,wi.BYR,wi.BYN,wi.BZD,wi.CAD,wi.CDF,wi.CHE,wi.CHF,wi.CHW,wi.CLF,wi.CLP,wi.CNY,wi.COP,wi.COU,wi.CRC,wi.CUC,wi.CUP,wi.CVE,wi.CZK,wi.DJF,wi.DKK,wi.DOP,wi.DZD,wi.EGP,wi.ERN,wi.ETB,wi.EUR,wi.FJD,wi.FKP,wi.GBP,wi.GEL,wi.GHS,wi.GIP,wi.GMD,wi.GNF,wi.GTQ,wi.GYD,wi.HKD,wi.HNL,wi.HRK,wi.HTG,wi.HUF,wi.IDR,wi.ILS,wi.INR,wi.IQD,wi.IRR,wi.ISK,wi.JMD,wi.JOD,wi.JPY,wi.KES,wi.KGS,wi.KHR,wi.KMF,wi.KPW,wi.KRW,wi.KWD,wi.KYD,wi.KZT,wi.LAK,wi.LBP,wi.LKR,wi.LRD,wi.LSL,wi.LTL,wi.LVL,wi.LYD,wi.MAD,wi.MDL,wi.MGA,wi.MKD,wi.MMK,wi.MNT,wi.MOP,wi.MRO,wi.MUR,wi.MVR,wi.MWK,wi.MXN,wi.MXV,wi.MYR,wi.MZN,wi.NAD,wi.NGN,wi.NIO,wi.NOK,wi.NPR,wi.NZD,wi.OMR,wi.PAB,wi.PEN,wi.PGK,wi.PHP,wi.PKR,wi.PLN,wi.PYG,wi.QAR,wi.RON,wi.RSD,wi.RUB,wi.RWF,wi.SAR,wi.SBD,wi.SCR,wi.SDG,wi.SEK,wi.SGD,wi.SHP,wi.SLL,wi.SOS,wi.SRD,wi.SSP,wi.STD,wi.SVC,wi.SYP,wi.SZL,wi.THB,wi.TJS,wi.TMT,wi.TND,wi.TOP,wi.TRY,wi.TTD,wi.TWD,wi.TZS,wi.UAH,wi.UGX,wi.USD,wi.USN,wi.USS,wi.UYI,wi.UYU,wi.UZS,wi.VEF,wi.VND,wi.VUV,wi.WST,wi.XAF,wi.XAG,wi.XAU,wi.XBA,wi.XBB,wi.XBC,wi.XBD,wi.XCD,wi.XDR,wi.XFU,wi.XOF,wi.XPD,wi.XPF,wi.XPT,wi.XSU,wi.XTS,wi.XUA,wi.YER,wi.ZAR,wi.ZMW,wi.ZWL;var Ai={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",i=1,a=2,s=1/0,o=9007199254740991,u="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",h="[object GeneratorFunction]",_="[object Map]",m="[object Number]",v="[object Object]",g="[object Promise]",y="[object RegExp]",E="[object Set]",b="[object String]",T="[object Symbol]",w="[object WeakMap]",N="[object ArrayBuffer]",A="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/,O=/^\./,C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[u]=R[l]=R[N]=R[c]=R[A]=R[d]=R[p]=R[f]=R[_]=R[m]=R[v]=R[y]=R[E]=R[b]=R[w]=!1;var L="object"==typeof n&&n&&n.Object===Object&&n,P="object"==typeof self&&self&&self.Object===Object&&self,M=L||P||Function("return this")(),U=t&&!t.nodeType&&t,Z=U&&e&&!e.nodeType&&e,j=Z&&Z.exports===U&&L.process,B=function(){try{return j&&j.binding("util")}catch(e){}}(),G=B&&B.isTypedArray;function V(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function H(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function F(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function q(e,t){return function(n){return e(t(n))}}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Y,z=Array.prototype,J=Function.prototype,W=Object.prototype,X=M["__core-js_shared__"],Q=(Y=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",ee=J.toString,te=W.hasOwnProperty,ne=W.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=M.Symbol,ae=M.Uint8Array,se=q(Object.getPrototypeOf,Object),oe=Object.create,ue=W.propertyIsEnumerable,le=z.splice,ce=q(Object.keys,Object),de=Ze(M,"DataView"),pe=Ze(M,"Map"),fe=Ze(M,"Promise"),he=Ze(M,"Set"),_e=Ze(M,"WeakMap"),me=Ze(Object,"create"),ve=qe(de),ge=qe(pe),ye=qe(fe),Ee=qe(he),be=qe(_e),Te=ie?ie.prototype:void 0,we=Te?Te.valueOf:void 0,Ne=Te?Te.toString:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ie;++t<n;)this.add(e[t])}function Ce(e){this.__data__=new Se(e)}function De(e,t){for(var n=e.length;n--;)if(Ye(e[n][0],t))return n;return-1}Ae.prototype.clear=function(){this.__data__=me?me(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return te.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:te.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,n=De(t,e);return!(n<0||(n==t.length-1?t.pop():le.call(t,n,1),0))},Se.prototype.get=function(e){var t=this.__data__,n=De(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return De(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,r=De(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new Ae,map:new(pe||Se),string:new Ae}},Ie.prototype.delete=function(e){return Ue(this,e).delete(e)},Ie.prototype.get=function(e){return Ue(this,e).get(e)},Ie.prototype.has=function(e){return Ue(this,e).has(e)},Ie.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,r),this},Oe.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.clear=function(){this.__data__=new Se},Ce.prototype.delete=function(e){return this.__data__.delete(e)},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ie(r)}return n.set(e,t),this};function ke(e,t){return e&&function(e,t,n){for(var r=-1,i=Object(e),a=n(e),s=a.length;s--;){var o=a[++r];if(!1===t(i[o],o,i))break}return e}(e,t,at)}function xe(e,t){for(var n=0,r=(t=Ge(t,e)?[t]:Pe(t)).length;null!=e&&n<r;)e=e[Fe(t[n++])];return n&&n==r?e:void 0}function Re(e,t){return null!=e&&t in Object(e)}function Le(e,t,n,r,s){return e===t||(null==e||null==t||!et(e)&&!tt(t)?e!=e&&t!=t:function(e,t,n,r,s,o){var f=Je(e),h=Je(t),g=l,w=l;f||(g=(g=je(e))==u?v:g),h||(w=(w=je(t))==u?v:w);var S=g==v&&!K(e),I=w==v&&!K(t),O=g==w;if(O&&!S)return o||(o=new Ce),f||it(e)?Me(e,t,n,r,s,o):function(e,t,n,r,s,o,u){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!r(new ae(e),new ae(t)));case c:case d:case m:return Ye(+e,+t);case p:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case _:var l=F;case E:var f=o&a;if(l||(l=$),e.size!=t.size&&!f)return!1;var h=u.get(e);if(h)return h==t;o|=i,u.set(e,t);var v=Me(l(e),l(t),r,s,o,u);return u.delete(e),v;case T:if(we)return we.call(e)==we.call(t)}return!1}(e,t,g,n,r,s,o);if(!(s&a)){var C=S&&te.call(e,"__wrapped__"),D=I&&te.call(t,"__wrapped__");if(C||D){var k=C?e.value():e,x=D?t.value():t;return o||(o=new Ce),n(k,x,r,s,o)}}return!!O&&(o||(o=new Ce),function(e,t,n,r,i,s){var o=i&a,u=at(e),l=u.length;if(l!=at(t).length&&!o)return!1;for(var c=l;c--;){var d=u[c];if(!(o?d in t:te.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);for(var h=o;++c<l;){var _=e[d=u[c]],m=t[d];if(r)var v=o?r(m,_,d,t,e,s):r(_,m,d,e,t,s);if(!(void 0===v?_===m||n(_,m,r,i,s):v)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,s,o))}(e,t,Le,n,r,s))}function Pe(e){return Je(e)?e:Ke(e)}function Me(e,t,n,r,s,o){var u=s&a,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var p=-1,f=!0,h=s&i?new Oe:void 0;for(o.set(e,t),o.set(t,e);++p<l;){var _=e[p],m=t[p];if(r)var v=u?r(m,_,p,t,e,o):r(_,m,p,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!H(t,(function(e,t){if(!h.has(t)&&(_===e||n(_,e,r,s,o)))return h.add(t)}))){f=!1;break}}else if(_!==m&&!n(_,m,r,s,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Ue(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ze(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!et(e)||(t=e,Q&&Q in t))&&(Xe(e)||K(e)?re:k).test(qe(e));var t}(n)?n:void 0}var je=function(e){return ne.call(e)};function Be(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e,t){if(Je(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!nt(e))||I.test(e)||!S.test(e)||null!=t&&e in Object(t)}function Ve(e){return e==e&&!et(e)}function He(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}(de&&je(new de(new ArrayBuffer(1)))!=A||pe&&je(new pe)!=_||fe&&je(fe.resolve())!=g||he&&je(new he)!=E||_e&&je(new _e)!=w)&&(je=function(e){var t=ne.call(e),n=t==v?e.constructor:void 0,r=n?qe(n):void 0;if(r)switch(r){case ve:return A;case ge:return _;case ye:return g;case Ee:return E;case be:return w}return t});var Ke=$e((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(nt(e))return Ne?Ne.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(t);var n=[];return O.test(e)&&n.push(""),e.replace(C,(function(e,t,r,i){n.push(r?i.replace(D,"$1"):t||e)})),n}));function Fe(e){if("string"==typeof e||nt(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function qe(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $e(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s),s};return n.cache=new($e.Cache||Ie),n}function Ye(e,t){return e===t||e!=e&&t!=t}function ze(e){return function(e){return tt(e)&&We(e)}(e)&&te.call(e,"callee")&&(!ue.call(e,"callee")||ne.call(e)==u)}$e.Cache=Ie;var Je=Array.isArray;function We(e){return null!=e&&Qe(e.length)&&!Xe(e)}function Xe(e){var t=et(e)?ne.call(e):"";return t==f||t==h}function Qe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function et(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function tt(e){return!!e&&"object"==typeof e}function nt(e){return"symbol"==typeof e||tt(e)&&ne.call(e)==T}var rt,it=G?(rt=G,function(e){return rt(e)}):function(e){return tt(e)&&Qe(e.length)&&!!R[ne.call(e)]};function at(e){return We(e)?function(e,t){var n=Je(e)||ze(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!te.call(e,a)||i&&("length"==a||Be(a,r))||n.push(a);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||W))return ce(e);var t,n,r=[];for(var i in Object(e))te.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e)}function st(e){return e}e.exports=function(e,t,n){var r,s,o,u,l,c,d=Je(e)||it(e);if(t="function"==typeof(s=t)?s:null==s?st:"object"==typeof s?Je(s)?function(e,t){return Ge(e)&&Ve(t)?He(Fe(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:xe(e,t);return void 0===r?void 0:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){for(var r,i=-1,a=(t=Ge(t,e)?[t]:Pe(t)).length;++i<a;){var s=Fe(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r||!!(a=e?e.length:0)&&Qe(a)&&Be(s,a)&&(Je(e)||ze(e))}(e,t,Re)}(n,e):Le(t,r,void 0,i|a)}}(s[0],s[1]):(u=function(e){for(var t=at(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ve(i)]}return t}(o=s),1==u.length&&u[0][2]?He(u[0][0],u[0][1]):function(e){return e===o||function(e,t,n,r){var s=n.length,o=s;if(null==e)return!o;for(e=Object(e);s--;){var u=n[s];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<o;){var l=(u=n[s])[0],c=e[l],d=u[1];if(u[2]){if(void 0===c&&!(l in e))return!1}else{var p,f=new Ce;if(!(void 0===p?Le(d,c,r,i|a,f):p))return!1}}return!0}(e,0,u)}):Ge(l=s)?(c=Fe(l),function(e){return null==e?void 0:e[c]}):function(e){return function(t){return xe(t,e)}}(l),null==n)if(d||et(e)){var p=e.constructor;n=d?Je(e)?new p:[]:Xe(p)&&et(r=se(e))?oe(r):{}}else n={};return(d?V:ke)(e,(function(e,r,i){return t(n,e,r,i)})),n}}(Ai,Ai.exports),"function"==typeof SuppressedError&&SuppressedError;const{Commands:Si}=t;let Ii=null,Oi=null,Ci=null,Di=null;function ki(){return window.discord_sdk}window.is_discord=function(){return window.location.hostname.includes("discordsays.com")},window.discord_sdk_is_ready=function(){return window.discord_sdk_ready},window.discord_sdk_get_client_id=function(){if(ki())return ki().clientId||""},window.discord_sdk_get_channel_id=function(){if(ki())return ki().channelId||""},window.discord_sdk_get_guild_id=function(){if(ki())return ki().guildId||""},window.discord_sdk_get_instance_id=function(){if(ki())return ki().instanceId},window.discord_sdk_get_frame_id=function(){return new URLSearchParams(window.location.href).get("frame_id")},window.discord_sdk_get_platform=function(){if(ki())return ki().platform},window.discord_sdk_commands_authorize=async function(e,t=["identify"]){const{code:n}=await ki().commands.authorize({client_id:ki().clientId,response_type:"code",state:"",prompt:"none",scope:t});console.log("Discord OAuth code obtained");const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})}),i=await r.json();console.log(i),Ii=i.access_token,Oi=i.refresh_token,Ci=i.expires_in,Di=Date.now()+1e3*Ci,null==await ki().commands.authenticate({access_token:Ii})&&console.log("Authentication failed"),window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_AUTHORIZE_SUCCESS",JSON.stringify(i))};const xi={async capture_log(e,t="info"){await ki().commands.captureLog({level:t,message:e})},async encourage_hardware_acceleration(e){const t=await ki().commands.encourageHardwareAcceleration();console.log("Encourage hw acceleration"),console.log(t),window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_ENCOURAGE_HARDWARE_ACCELERATION",JSON.stringify(t),e)},async get_channel(e,t=ki().channelId){const n=await ki().commands.getChannel({channel_id:t});window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_GET_CHANNEL",JSON.stringify({channel:n}),e)},async get_channel_permissions(e){const t=await ki().commands.getChannelPermissions();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_GET_CHANNEL",JSON.stringify(t),e)},async get_entitlements(e){const t=await ki().commands.getEntitlements();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_GET_ENTITLEMENTS",JSON.stringify({entitlements:t.entitlements}),e)},async get_instance_connected_participants(e){const t=await ki().commands.getInstanceConnectedParticipants();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_GET_INSTANCE_CONNECTED_PARTICIPANTS",JSON.stringify(t),e)},async get_platform_behaviours(e){const t=await ki().commands.getPlatformBehaviors();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_GET_PLATFORM_BEHAVIOURS",JSON.stringify({behaviours:t}),e)},async get_skus(e){const t=await ki().commands.getSkus();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_GET_SKUS",JSON.stringify({skus:t.skus}),e)},async initiate_image_upload(e){const t=await ki().commands.initiateImageUpload();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_INITIATE_IMAGE_UPLOAD",JSON.stringify({image:t.image_url}),e)},async open_external_link(e,t){await ki().commands.openExternalLink({url:t})},async open_invite_dialog(e){await ki().commands.openInviteDialog()},async open_share_moment_dialog(e,t){await ki().commands.openShareMomentDialog({mediaUrl:t})},async set_activity(e,t){const n=await ki().commands.setActivity({activity:JSON.parse(t)});window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_SET_ACTIVITY",JSON.stringify({activity:n}),e)},async set_config(e,t){const n=await ki().commands.setConfig({use_interactive_pip:t});window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_SET_CONFIG",JSON.stringify({config:n}),e)},async set_orientation_lock_state(e,t,n,r){await ki().commands.setOrientationLockState({lock_state:t,grid_lock_state:n,picture_in_picture_lock_state:r})},async start_purchase(e,t){const n=await ki().commands.startPurchase({sku_id:t});window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_START_PURCHASE",JSON.stringify({purchases:n}),e)},async user_settings_get_locale(e){const t=await ki().commands.userSettingsGetLocale();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_COMMAND_USER_SETTINGS_GET_LOCALE",JSON.stringify({locale:t.locale}),e)}};window.discord_sdk_command=function(e){const[t,n,...r]=JSON.parse(e),i=xi[t];return console.log(e),console.log(`Calling discord_sdk_commands.${t}`),i?(i(n,...r),n):(console.log(`Command ${t} not found`),-1)},window.discord_sdk_ready=!1,window.discord_sdk_setup=async function(e){window.discord_sdk=new $r(e),window.discord_sdk.ready(),window.discord_sdk_ready=!0,window.discord_sdk_subscribe("READY"),window.discord_sdk_subscribe("ERROR"),console.log("Discord SDK initialised")},window.discord_sdk_set_share_surface_size=function(e,t){const n=document.querySelector("#gmsurface");n.width=e,n.height=t},window.discord_sdk_upload_file=async function(e,t,n,r){const i=new FormData,a=new File([t],n,{type:r});i.append("file",a);const s=await fetch(`https://discord.com/api/applications/${ki().clientId}/attachment`,{method:"POST",headers:{Authorization:`Bearer ${Ii}`},body:i}),o=await s.json();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_SHARE_MEDIA_UPLOADED",JSON.stringify(o),e)},window.discord_sdk_upload_share_surface=function(e,t,n,r){const i=document.createElement("canvas");i.width=n,i.height=r;const a=i.getContext("2d"),s=new Uint8ClampedArray(t),o=new ImageData(s,n,r,{});a.putImageData(o,0,0),i.toBlob((async t=>{const n=new FormData,r=new File([await t.arrayBuffer()],"share.png",{type:t.type});n.append("file",r);const i=await fetch(`https://discord.com/api/applications/${ki().clientId}/attachment`,{method:"POST",headers:{Authorization:`Bearer ${Ii}`},body:n}),a=await i.json();window.gml_Script_gmcallback_discord_sdk_callback(null,null,"DISCORD_SHARE_MEDIA_UPLOADED",JSON.stringify(a),e)}),"image/png")},window.discord_sdk_subscribe=async function(e,t=void 0){try{console.log(`Subscribing to event ${e}}`),null!=t&&(t=JSON.parse(t)),await ki().subscribe(e,(t=>{window.gml_Script_gmcallback_discord_sdk_callback(null,null,`DISCORD_${e}`,JSON.stringify(t))}),t)}catch(t){console.log(`Failed to subscribe to event ${e}}`),console.error(t)}},window.discord_sdk_unsubscribe=function(e){ki().unsubscribe(e)}})();